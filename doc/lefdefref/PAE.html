<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN" "http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
<html xmlns="http://www.w3.org/MarkUp/Wilbur/HTML32.dtd">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>LEF/DEF 5.8 Language Reference -- C</title>
<META NAME="Approver" CONTENT="Technical Publications">
<META NAME="Author" CONTENT="Technical Publications">
<META NAME="CreateDate" CONTENT="2018-02-06">
<META NAME="CreateTime" CONTENT="1517908046">
<META NAME="DataType" CONTENT="Manuals">
<META NAME="Description" CONTENT="Describes the syntax for Library Exchange Format (LEF) and Design Exchange Format (DEF) files.">
<META NAME="DocTitle" CONTENT="LEF/DEF 5.8 Language Reference">
<META NAME="DocType" CONTENT="Reference">
<META NAME="EdmsRelease" CONTENT="FM-Wiki-2.0_HF1">
<META NAME="FileTitle" CONTENT="C">
<META NAME="FileType" CONTENT="Chapter">
<META NAME="Keyword" CONTENT="lefdefref">
<META NAME="Language" CONTENT="English">
<META NAME="ModifiedDate" CONTENT="2018-02-06">
<META NAME="ModifiedTime" CONTENT="1517908046">
<META NAME="NextFile" CONTENT="lefdefrefIX.html">
<META NAME="PageCount" CONTENT="42">
<META NAME="Platform" CONTENT="ALL">
<META NAME="PrevFile" CONTENT="OptimizingLEFTechnology.html">
<META NAME="Product" CONTENT="Innovus, Languages">
<META NAME="ProductFamily" CONTENT="Digital Implementation, Cadence Shared Tools">
<META NAME="ProductVersion" CONTENT="5.8">
<META NAME="RightsManagement" CONTENT="Copyright 2018 Cadence Design Systems Inc.">
<META NAME="Title" CONTENT="LEF/DEF 5.8 Language Reference -- C">
<META NAME="TopicTags" CONTENT="FALSE">
<META NAME="Version" CONTENT="5.8">
  </head>
  <body style="margin-left: 5%;">
    <a name="pagetop"></a>
    <a name="firstpage"></a>
    <!-- Begin Buttons -->
    <table width="650" cellpadding="0" cellspacing="0" border="0">
      <tr>
        <td height="36" width="650" colspan="10">
          <img src="images/header_doc.gif" width="650" height="34">
        </td>
      </tr>
      <tr>
        <td height="20" width="59">
<a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a>

                </td>
<td height="20" width="73">
<a href="lefdefrefTOC.html"><img src="../support/nav2_toc.gif" alt="Table of Contents" border="0"></a>
</td>
<td height="20" width="46">
<img src="../support/nav2_index_b.gif" border="0">
</td>

        <td>
          <a href="OptimizingLEFTechnology.html"><img src="images/nav2_previous.gif" alt="Previous" border="0"></a>
        </td>
        <td>
          <a href="lefdefrefIX.html"><img src="images/nav_next.gif" alt="Next" border="0"></a>
        </td>
        <td height="20">
          <a>
<a href="lefdefref.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a>

          </a>
        </td>
        <td height="20" width="61">
<img src="../support/nav2_black.gif" border="0"  height="20" width="76">

        </td>
        <td height="20" width="76">
<a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a>

        </td>
        <td height="20" width="43">
<a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a>

        </td>
        <td height="20" width="37">
<a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a>

        </td>
      </tr>
    </table>
    <!-- End Buttons -->
    <p>
    <hr>
    <p>
      <h3>
        <center>
          <font >
            <div>LEF&#47;DEF 5.8 Language Reference</div>
            <font >
              <div></div>
            </font>
          </font>
        </center>
      </h3>
      <br>
    </p>
    <div>
      <h1>C<a name="1032955">&nbsp;</a></h1>
      <h1><a name="1033512">Calculating and Fixing Process Antenna Violations</a></h1>
      <p><a name="1034525">This appendix describes process antenna violations and how you can use the router to correct them. It includes the following sections:</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1034563" title="C" name="1034529"><font color="Blue"><u>Overview</u></font></a><a href="#1034563" title="C"> </a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1034861" title="C" name="1034533"><font color="Blue"><u>Using Process Antenna Keywords in the LEF and DEF Files</u></font></a><a href="#1034861" title="C"> </a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1034900" title="C" name="1034537"><font color="Blue"><u>Calculating Antenna Ratios</u></font></a><a href="#1034900" title="C"> </a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1036523" title="C" name="1034541"><font color="Blue"><u>Checking for Antenna Violations</u></font></a><a href="#1036523" title="C"> </a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1036656" title="C" name="1034545"><font color="Blue"><u>Using Antenna Diode Cells</u></font></a><a href="#1036656" title="C"> </a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1036735" title="C" name="1034549"><font color="Blue"><u>Using DiffUseOnly</u></font></a><a href="#1036735" title="C"> </a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1036921" title="C" name="1034561"><font color="Blue"><u>Calculations for Hierarchical Designs</u></font></a><a href="#1036921" title="C"> </a></td>
          </tr>
        </table>
      </div>
      <h2><a name="1034563">Overview</a></h2>
      <p><a name="1034564">During deep submicron wafer fabrication, gate damage can occur when excessive static charges accumulate and discharge, passing current through a gate. If the area of the layer connected directly to the gate or connected to the gate through lower layers is large relative to the area of the gate and the static charges are discharged through the gate, the discharge can damage the oxide that insulates the gate and cause the chip to fail. This phenomenon is called the </a><font color="#000000"><em>process antenna effect </em></font>(PAE).</p>
      <p><a name="1034565">To determine the extent of the PAE, the router calculates the area of the layer relative to the area of the gates connected to it, or connected to it through lower layers. The number it calculates is called the </a><font color="#000000"><em>antenna ratio</em></font>. Each foundry sets a maximum allowable antenna ratio for the chips it fabricates.</p>
      <p><a name="1034566">For example, assume a foundry sets a maximum allowable antenna ratio of 500. If a net has two input gates that each have an area of 1 square micron, any metal layers that connect to the gates and have an area larger than 1,000 square microns have process antenna violations because they would cause the antenna ratio to be higher than 500:</a></p>
      <p align="left"><a name="1034589"><img src="images/PAE.10.1.01.png" width="675" height="57" alt=""><br></a></p>
      <p><a name="1038918">To tell the router the values to use when it calculates the antenna ratio, you set antenna keywords in the LEF and DEF files. The router measures potential damage caused by PAE by checking the ratio it calculates against the values specified by the antenna keywords. When it finds a net whose antenna ratio for a specified layer exceeds the maximum allowed value for that layer, it finds a </a><font color="#000000"><em>process antenna violation</em></font> and attempts to fix it using one or both of the following methods:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034590">Changing the routing so the routing layers connected to a gate or connected to a gate through lower layers are not so large that they build enough static charge to damage the gate</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034592">Inserting diodes that protect the gate by providing an alternate path to discharge the static charge</a></td>
          </tr>
        </table>
      </div>
      <p><a name="1038921">LEF can specify several types of antenna ratios, including ratios for PAE damage on one layer only and ratios calculated by adding accumulated damage on several layers. In addition, LEF can specify ratios based on the area of the metal wires or the cut area of vias. </a></p>
      <h3><a name="1034595">What Are Process Antennas?</a></h3>
      <p><a name="1034596">In a chip manufacturing process, metal layers are built up, layer by layer, starting with the first&#45;level metal layer (usually referred to as </a><font color="#000000"><em>metal1</em></font>). Next, the <font color="#000000"><em>metal1</em></font>&#45;<font color="#000000"><em>metal2</em></font> vias are created, then the second&#45;level metal layer, then <font color="#000000"><em>metal2</em></font>&#45;<font color="#000000"><em>metal3</em></font> vias, and so on.</p>
      <p><a name="1034597">On each metal layer, metal is initially deposited so it covers the entire chip. Then, the unneeded portions of the metal are removed by etching, typically in plasma (charged particles). </a></p>
      <p><a href="#1037490" title="C" name="1034598"><font color="Blue"><u>Figure&nbsp;C&#45;1</u></font></a><a href="#1037490" title="C"></a> shows a section of an imaginary chip after the unneeded metal from <font color="#000000"><em>metal2</em></font> is removed. </p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;1&nbsp; </strong></font></strong>
        <strong><a name="1037490">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1034669"><img src="images/PAE.10.1.02.png" width="675" height="203" alt=""><br></a></p>
      <p><a name="1034670">In the figure,</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034671">Gate areas for transistors are labelled </a><font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font>, where <font size="2" face="'Courier New'" color="#000000"><em>k</em></font> is a sequential number starting with <font size="2" face="'Courier New'" color="#000000">1</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034672">Wire segments are labelled </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.872">
              <div>&nbsp;</div>
            </td>
            <td width="32.128319999999995">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/bs_bullet_sub.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034673"><font size="2" face="'Courier New'" color="#000000">N</font></a> signifies that the wire segment is an electrically connected node</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.872">
              <div>&nbsp;</div>
            </td>
            <td width="32.128319999999995">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/bs_bullet_sub.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034674"><font size="2" face="'Courier New'" color="#000000"><em>i</em></font></a> specifies the metal layer to which the node belongs</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.872">
              <div>&nbsp;</div>
            </td>
            <td width="32.128319999999995">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/bs_bullet_sub.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034675"><font size="2" face="'Courier New'" color="#000000"><em>j</em></font></a> is a sequential number for the node on that metal layer</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034676">Nodes are labelled so that all pieces of the metal geometry on layer </a><font color="#000000"><em>metal</em></font><font color="#000000"><sub><em>i</em></sub></font> that are electrically connected by conductors at layers below <font color="#000000"><em>metal</em></font><font color="#000000"><sub><em>i</em></sub></font> belong to the same node. For example, the two <font color="#000000"><em>metal2</em></font> wire segments that belong to node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font> are electrically connected to gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2,</sub></font> and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font> by a piece of wire on <font color="#000000"><em>metal1</em></font> (labelled <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font>).</td>
          </tr>
        </table>
      </div>
      <p><a name="1034677">Thick oxide insulates the already&#45;fabricated structures below </a><font color="#000000"><em>metal2</em></font>, preventing them from direct contact with the plasma. The <font color="#000000"><em>metal2</em></font> geometries, however, are exposed to the plasma, and collect charge from it. As the metal geometries collect charge, they build up voltage potential.</p>
      <p><a name="1034678">Because the metal geometries collect charge during the metallization process, they are referred to as process antennas. In general, the more area covered by the metal geometries that are exposed to the plasma (that is, the larger the process antennas), the more charge they can collect.</a></p>
      <p><a name="1034679">In </a><a href="#1037490" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;1</u></font></a><a href="#1037490" title="C"> </a>, note the following:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034680">Node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font> is electrically connected to gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font> and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034681">Node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font> is electrically connected to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font>. </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034682">Node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font> (node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font> has two pieces of metal) is electrically connected to gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font>, and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034683">Node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,3</sub></font> and node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,2</sub></font> are electrically connected to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034684">Node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,4</sub></font> and node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,3</sub></font> are electrically connected to the diffusion (diode).</td>
          </tr>
        </table>
      </div>
      <h3><a name="1034685">What Is the Process Antenna Effect (PAE)?</a></h3>
      <p><a name="1034686">If the voltage potential across the gate oxide becomes large enough to cause current to flow across the gate oxide, from the process antennas to the gates to which the process antennas are electrically connected, the current can damage the gate oxide. The process antenna effect (PAE) is the term used to describe the build&#45;up of charge and increase in voltage potential. The larger the total gate area that is electrically connected to the process antennas on a specific layer, the more charge the connected gates can withstand.</a></p>
      <p><a name="1034687">In the imaginary chip in </a><a href="#1037490" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;1</u></font></a><a href="#1037490" title="C"> </a>, if the current were to flow, the following would happen, as a result of the node&#45;gate connections:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034688">The charge collected by process antennas on nodes </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font>, <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font>, and <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font> would be discharged through one or more of gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font>, and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034689">The charge collected by process antennas on nodes </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,3</sub></font> and <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,2</sub></font> would be discharged through gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034690">The charge collected by process antennas on node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,4</sub></font> and <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,3</sub></font> would be discharged through the diode.</td>
          </tr>
        </table>
      </div>
      <h3><a name="1034691">What Is the Antenna Ratio?</a></h3>
      <p><a name="1034692">Because the total gate area that is electrically connected to a node (and therefore connected to the process antennas) determines the amount of charge from the process antennas the electrically connected gates can withstand, and because the size of the process antennas connected to the node determines how much charge the antennas collect, it is useful to calculate the ratio of the size of the process antennas on a node to the size of the gate area that is electrically connected to the node. This is the antenna ratio. The greater the antenna ratio, the greater the potential for damage to the gate oxide.</a></p>
      <p><a name="1034693">If you check a chip and obtain an antenna ratio greater than the threshold specified by the foundry, gate damage is likely to occur. </a></p>
      <p><a href="#1037503" title="C" name="1034694"><font color="Blue"><u>Figure&nbsp;C&#45;2</u></font></a><a href="#1037503" title="C"></a> shows the same section of the imaginary chip as the previous figure. The shaded areas in this figure represent the process antennas on node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font> and the gates to which they connect: gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font>, and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font>. The shaded gates discharge the electricity collected by the process antennas on node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font>. </p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;2&nbsp; </strong></font></strong>
        <strong><a name="1037503">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1034777"><img src="images/PAE.10.1.03.png" width="675" height="290" alt=""><br></a></p>
      <h3><a name="1034778">What Can Be Done to Improve the Antenna Ratio?</a></h3>
      <p><a name="1034779">If there is an alternate path for the current to flow, the charge on the node can be discharged through the alternate path before the voltage potential reaches a level that damages the gate. For example, a Zener diode, which allows current to flow in the reverse direction when the reverse bias reaches a specified breakdown voltage, provides an alternate path, and helps avoid building up so much charge at the node that the charge is discharged through the gate oxide. Diffusion features that form the output of a logic gate (source and drain of transistors) can provide such an alternate discharge path.</a></p>
      <p><a name="1034780">Routers typically use two methods to decrease the antenna ratio:</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034781">Changing the routing by breaking the metal layers into smaller pieces</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034782">Inserting antenna diode cells to discharge the current</a></td>
          </tr>
        </table>
      </div>
      <p><a name="1034783">Both of these methods supply alternate paths for the current. For details about how to specify antenna diode cells, see </a><a href="#1036656" title="C"><font color="Blue"><u>"Using Antenna Diode Cells"</u></font></a><a href="#1036656" title="C"></a>.</p>
      <h2><a name="1034861">Using Process Antenna Keywords in the LEF and DEF Files</a></h2>
      <p><a name="1034862">You tell the router the values to use for the gate, diffusion, and metal areas by setting values for process antenna keywords in the LEF and DEF files for your design. You also tell the router the values to use for the threshold process antenna ratios by setting the keywords. </a></p>
      <p><a name="1034866">The following table lists LEF version 5.5 antenna keywords. </a></p>
      <p align="left"><a name="1034898">&nbsp;</a></p>
      <table summary="" border="0" cellpadding="4" cellspacing="0" bordercolor="#D3D3D3" width="648">
        <tr>
          <td cellpadding="4" border="0" bordercolor="#D3D3D3" valign="middle" width="127">
            <p>
              <font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><strong><a name="1034869">If the keyword<br>ends with ...</a></strong></font>
            </p>
          </td>
          <td cellpadding="4" border="0" bordercolor="#D3D3D3" valign="middle" width="161">
            <p>
              <font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><strong><a name="1034871">It refers to ...</a></strong></font>
            </p>
          </td>
          <td cellpadding="4" border="0" bordercolor="#D3D3D3" valign="middle" width="360">
            <p>
              <font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><strong><a name="1034873">Examples</a></strong></font>
            </p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1034875"><font size="2" face="'Courier New'" color="#000000">area</font></a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1034877">Area of the gates or diffusion</a></p>
            <p><a name="1034878">Measured in square microns</a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1034880"><font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREA <br>ANTENNAGATEAREA</font></a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1034882"><font size="2" face="'Courier New'" color="#000000">factor</font></a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1034884">Area multiplier used for the metal nodes</a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1034886"><font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR <br>ANTENNASIDEAREAFACTOR</font></a></p>
            <p><font color="#000000"><strong>Note: </strong></font><a name="1034887">Use </a><font size="2" face="'Courier New'" color="#000000">DIFFUSEONLY</font> if you want the multiplier to apply only when connecting to diffusion. For more information, see <a href="#1036735" title="C"><font color="Blue"><u>"Using DiffUseOnly"</u></font></a><a href="#1036735" title="C"></a>.</p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1034892"><font size="2" face="'Courier New'" color="#000000">ratio</font></a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1034894">Relationship the router is calculating</a></p>
            <p><a name="1034895"><font size="2" face="'Courier New'" color="#000000">Cum</font></a> is used in keywords for cumulative antenna ratio.</p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1034897"><font size="2" face="'Courier New'" color="#000000">ANTENNAAREARATIO <br>ANTENNASIDEAREARATIO <br>ANTENNADIFFAREARATIO <br>ANTENNADIFFSIDEAREARATIO<br>ANTENNACUMAREARATIO <br>ANTENNACUMSIDEAREARATIO <br>ANTENNACUMDIFFAREARATIO<br>ANTENNACUMDIFFSIDEAREARATIO</font></a></p>
          </td>
        </tr>
      </table>
      <h2><a name="CalculatingAntennaRatios"></a><a name="1034900">Calculating Antenna Ratios</a></h2>
      <p><a name="1038743">Tools should calculate antenna ratios using one of the following models:</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034902">The partial checking model</a></td>
          </tr>
        </table>
      </div>
      <blockquote><a name="1038746">Using this model, you calculate damage to gates by process antennas on one layer. For example, if you use the partial checking model to calculate the PAE referred to a gate from </a><font color="#000000"><em>metal3</em></font>, you do not consider any potential damages referred to that gate from metallization steps on <font color="#000000"><em>metal1</em></font> or <font color="#000000"><em>metal2</em></font>.</blockquote>
      <blockquote><a name="1034904">You use this model to calculate a partial antenna ratio (PAR). A PAR tells you if any single metallization step is likely to inflict damage to a gate.</a></blockquote>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034905">The cumulative checking model</a></td>
          </tr>
        </table>
      </div>
      <blockquote><a name="1034906">This model is more conservative than the partial checking model. It adds damage to a gate caused by the PAE referred to the gate from each metallization step, starting from </a><font color="#000000"><em>metal1</em></font> up to the layer that is being checked. For example, if you use the cumulative checking model to calculate the PAE referred to a gate from <font color="#000000"><em>metal3</em></font>, you add the PAR from the relevant antenna areas on <font color="#000000"><em>metal1</em></font>, <font color="#000000"><em>metal2</em></font>, and <font color="#000000"><em>metal3</em></font>.</blockquote>
      <blockquote><a name="1034907">You use this model to calculate a cumulative antenna ratio (CAR). A CAR adds the damages on successive layers together to accumulate them as the layers are built up.</a></blockquote>
      <h3><a name="1039567">Calculating the Antenna Area</a></h3>
      <p><a name="1034909">The area used to model the charge&#45;collecting ability of a node is called the </a><font color="#000000"><em>antenna area</em></font>. The router calculates the antenna area for one of the following areas:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034910">The drawn area (the top surface area of the metal shape)</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034911">The side area (the area of the sides of the metal shape)</a></td>
          </tr>
        </table>
      </div>
      <p><a name="1039514">The height of each side is taken from the </a><font size="2" face="'Courier New'" color="#000000">THICKNESS</font> statement for that layer.</p>
      <p><a href="#1037510" title="C" name="1034912"><font color="Blue"><u>Figure&nbsp;C&#45;3</u></font></a><a href="#1037510" title="C"></a> shows drawn and side areas.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;3&nbsp; </strong></font></strong>
        <strong><a name="1037510">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1034932"><img src="images/PAE.10.1.04.png" width="675" height="115" alt=""><br></a></p>
      <h4><a name="1034933">Antenna Area Factor</a></h4>
      <p><a name="1034934">You can increase or decrease the calculated antenna area by specifying an antenna area factor in the LEF file. </a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034935">Use </a><font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> to adjust the calculation of the drawn area.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1034936">Use </a><font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREAFACTOR</font> to adjust the calculation of the side area.</td>
          </tr>
        </table>
      </div>
      <p><a name="1034938">The default value of both factors is </a><font size="2" face="'Courier New'" color="#000000">1</font>. </p>
      <p><a name="1039661">The final ratio check can be scaled (that is, made more or less pessimistic) by using the </a><font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREAFACTOR</font> values that are used to multiply the final PAR and CAR values. </p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1039662">The LEF and DEF </a><font size="2" face="'Courier New'" color="#000000">ANTENNA</font> values are always unscaled values; only the final ratio&#45;check is affected by the scale factors.</p>
      <h3><a name="1034939">Calculating a PAR</a></h3>
      <p><a name="1040012">The general PAR(m</a><font color="#000000"><sub>1</sub></font>) equation for a single layer is calculated as:<br><img src="images/PAE.10.1.05.png" width="658" height="60" alt=""><br> </p>
      <p><a name="1040048">The existing </a><font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> statement is shown as <font size="2" face="'Courier New'" color="#000000"><em>metalFactor</em></font> for the metal area. It has no effect on the diff_area, gate_area, or cut_area shown. Likewise, the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREADIFFREDUCEPWL</font> statement is shown as <font size="2" face="'Courier New'" color="#000000"><em>diffMetalReduceFactor</em></font>, the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAMINUSDIFF</font> statement is shown as <font size="2" face="'Courier New'" color="#000000"><em>minusDiffFactor</em></font>, and the <font size="2" face="'Courier New'" color="#000000">ANTENNAGATEPLUSDIFF</font> statement is shown as <font size="2" face="'Courier New'" color="#000000"><em>plusDiffFactor</em></font>. For cut layer, the ratio equation illustrates the effect of an <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> <font size="2" face="'Courier New'" color="#000000"><em>cutFactor</em></font> statement as <font size="2" face="'Courier New'" color="#000000"><em>metalFactor</em></font>. If there is no preceding <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> statement, the <font size="2" face="'Courier New'" color="#000000"><em>metalFactor</em></font> value defaults to <font size="2" face="'Courier New'" color="#000000">1.0</font>. </p>
      <p><a name="1040071">For single layer rules, the PAR value is compared to </a><font size="2" face="'Courier New'" color="#000000">ANTENNA[SIDE]AREARATIO</font> and&#47;or <font size="2" face="'Courier New'" color="#000000">ANTENNADIFF[SIDE]AREARATIO</font>, as appropriate. For cumulative layer rules, the CAR values is compared to <font size="2" face="'Courier New'" color="#000000">ANTENNACUM[SIDE]AREARATIO</font> and&#47;or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFF[SIDE]AREARATIO</font>, as appropriate.</p>
      <p><a name="1034940">The following example uses a simplified formula to calculate a PAR, without including the various area factors:</a></p>
      <p align="left"><a name="1034944"><img src="images/PAE.10.1.06.png" width="642" height="125" alt=""><br></a></p>
      <p><a name="1034945"><font size="2" face="'Courier New'" color="#000000">PAR(N</font></a><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font>, G<font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> is the partial antenna ratio for node <font size="2" face="'Courier New'" color="#000000"><em>j</em></font> on <font color="#000000"><em>metal</em></font><font color="#000000"><sub><em>i</em></sub></font> with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font>, where <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> is electrically connected to node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font> by layer <font size="2" face="'Courier New'" color="#000000"><em>i</em></font> or below.</p>
      <p><a name="1034946"><font size="2" face="'Courier New'" color="#000000">Area(N</font></a><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> is the drawn or side area of node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font>.</p>
      <p><a name="1034948"><font size="2" face="'Courier New'" color="#000000">C(N</font></a><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> is the set of gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> that are electrically connected to <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font> through the layers below <font color="#000000"><em>metal</em></font><font color="#000000"><sub><em>i</em></sub></font>. </p>
      <p><a name="1034949"><font size="2" face="'Courier New'" color="#000000">Area(G</font></a><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> is the drawn or side area of gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font>. (The reason to include the <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> parameter for PAR is to maintain uniformity with the notation for CAR.)</p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1034950">For a specified node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font>, the <font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,</font> <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> for all gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> that are connected to the node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font> using <font color="#000000"><em>metal</em></font><font color="#000000"><sub><em>i</em></sub></font> or below are identical. </p>
      <h4><a name="1034951">Calculations for PAR on the First Metal Layer</a></h4>
      <p><a href="#1037515" title="C" name="1034952"><font color="Blue"><u>Figure&nbsp;C&#45;4</u></font></a><a href="#1037515" title="C"></a> shows a section of an imaginary chip after the first metal layer is processed.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;4&nbsp; </strong></font></strong>
        <strong><a name="1037515">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035005"><img src="images/PAE.10.1.07.png" width="675" height="191" alt=""><br></a></p>
      <p><a name="1035006">To calculate </a><font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,</font> <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> for node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font>, a node on the first metal layer, with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, use the following formula:</p>
      <p align="left"><a name="1035019"><img src="images/PAE.10.1.08.png" width="675" height="55" alt=""><br></a></p>
      <p><a name="1035020">Because gates </a>G<font face="'Courier New'" color="#000000"><sub>1</sub></font> and G<font face="'Courier New'" color="#000000"><sub>2</sub></font> both connect to node N<font face="'Courier New'" color="#000000"><sub>1,1</sub></font>, the following statement is true:</p>
      <dl>
        <font size="2" face="'Courier New'" color="#000000"><a name="1035021">PAR(N</a><font face="'Courier New'" color="#000000"><sub>1,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>1</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>1,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>2</sub></font>)</font>
      </dl>
      <p><a name="1035022">To calculate </a><font size="2" face="'Courier New'" color="#000000">PAR</font> for node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font>, another node on the first metal layer, with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font>, use the following formula:</p>
      <p align="left"><a name="1035035"><img src="images/PAE.10.1.09.png" width="675" height="55" alt=""><br></a></p>
      <p><a name="1035036">To calculate </a><font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,</font> <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> for node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,3</sub></font>, another node on the first metal layer, with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font>, use the following formula:</p>
      <p align="left"><a name="1035049"><img src="images/PAE.10.1.10.png" width="675" height="52" alt=""><br></a></p>
      <h4><a name="1035051">Calculations for PAR on the Second Metal Layer</a></h4>
      <p><a href="#1037520" title="C" name="1035052"><font color="Blue"><u>Figure&nbsp;C&#45;5</u></font></a><a href="#1037520" title="C"></a> shows the chip after the second metal layer is processed.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;5&nbsp; </strong></font></strong>
        <strong><a name="1037520">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035130"><img src="images/PAE.10.1.11.png" width="675" height="263" alt=""><br></a></p>
      <p><a name="1035131"><font size="2" face="'Courier New'" color="#000000">N</font></a><font face="'Courier New'" color="#000000"><sub>2,1</sub></font> consists of two pieces of metal on the second layer that are electrically connected at this step in the fabrication process. Therefore, to calculate <font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>, you must add the area of both pieces together.</p>
      <p><a name="1035132">To calculate </a><font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,</font><font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> for node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font>, a node on the second metal layer, with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, use the following formula:</p>
      <p align="left"><a name="1035145"><img src="images/PAE.10.1.12.png" width="675" height="55" alt=""><br></a></p>
      <p><a name="1035146">As on the first layer,</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1035147">PAR(N</a><font face="'Courier New'" color="#000000"><sub>2,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>1</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>2,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>2</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>2,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>3</sub></font>)</font>
      </p>
      <h4><a name="1035148">Calculations for PAR on the Third Metal Layer</a></h4>
      <p><a href="#1037525" title="C" name="1035149"><font color="Blue"><u>Figure&nbsp;C&#45;6</u></font></a><a href="#1037525" title="C"></a> shows the chip after the third metal layer is processed.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;6&nbsp; </strong></font></strong>
        <strong><a name="1037525">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035234"><img src="images/PAE.10.1.13.png" width="675" height="304" alt=""><br></a></p>
      <p><a name="1035235">To calculate </a><font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,</font> <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font>for node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font>, a node on the third metal layer, with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, use the following formula:</p>
      <p align="left"><a name="1035248"><img src="images/PAE.10.1.14.png" width="675" height="55" alt=""><br></a></p>
      <p><a name="1035249">As on the prior layers,</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1035250">PAR(N</a><font face="'Courier New'" color="#000000"><sub>3,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>1</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>3,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>2</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>3,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>3</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>3,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>4</sub></font>)</font>
      </p>
      <h4><a name="1035251">Calculations for PAR on the Fourth Metal Layer</a></h4>
      <p><a href="#1037530" title="C" name="1035252"><font color="Blue"><u>Figure&nbsp;C&#45;7</u></font></a><a href="#1037530" title="C"></a> shows the chip after the fourth metal layer is processed.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;7&nbsp; </strong></font></strong>
        <strong><a name="1037530">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035343"><img src="images/PAE.10.1.15.png" width="675" height="363" alt=""><br></a></p>
      <p><a name="1035344">To calculate </a><font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font><font size="2" face="'Courier New'" color="#000000">,</font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,</font> <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> for the fourth metal layer, use the following formula:</p>
      <p align="left"><a name="1035357"><img src="images/PAE.10.1.16.png" width="675" height="55" alt=""><br></a></p>
      <p><a name="1035358">As on the prior layers,</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1035359">PAR(N</a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>1</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>4,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>2</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>4,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>3</sub></font>) = PAR(N<font face="'Courier New'" color="#000000"><sub>4,1</sub></font>,G<font face="'Courier New'" color="#000000"><sub>4</sub></font>)</font>
      </p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1035360">Node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font> is connected to the diffusion layer through the output diode. After the router calculates the antenna ratio, it compares its calculations to the area of the diffusion, instead of the area of the gates.</p>
      <h3><a name="1035362">Calculating a CAR</a></h3>
      <p><a name="1035363">To calculate a CAR, the router adds the PARs for all the relevant nodes on the specified or lower metal layers that are electrically connected to a gate. Therefore, </a><font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font>,<font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font>,<font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> designates the cumulative damage to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> by metallization steps up to the current level of metal, <font size="2" face="'Courier New'" color="#000000"><em>i</em></font>. </p>
      <p><a name="1040484">To create a single accumulative model that combines both metal and cut damage into one model, specify the </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMROUTINGPLUSCUT</font> statement for the layer, so that:</p>
      <blockquote><a name="1040485"><font color="#000000">CAR(m</font></a><font color="#000000"><sub>i</sub></font><font color="#000000">) = PAR(m</font><font color="#000000"><sub>i</sub></font><font color="#000000">) + CAR(v</font><font color="#000000"><sub>i&#45;1</sub></font><font color="#000000">)</font> </blockquote>
      <p><a name="1040486">This means that the CAR from the cut layer below this metal layer is accumulated, instead of the CAR from the metal layer below this metal layer. </a></p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1038751">In practice, the router only needs to keep track of the worst&#45;case CAR; however, the CARs for all of the gates shown in </a><a href="#1037643" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;8</u></font></a><a href="#1037643" title="C"></a> are described here.</p>
      <p><a name="1035364">The router calculates an antenna ratio with respect to a node&#45;gate pair. To find the CAR for the node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font>,<font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font> &#45; gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> pair, you trace the path of the current between gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> and node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font>,<font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font> and add the PAR with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>k</sub></font> for the all nodes in the path between the first metal layer and layer <font size="2" face="'Courier New'" color="#000000"><em>i</em></font> that you can trace back to <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font>.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;8&nbsp; </strong></font></strong>
        <strong><a name="1037643">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035454"><img src="images/PAE.10.1.17.png" width="675" height="349" alt=""><br></a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="13.333333333333332">
              <div>&nbsp;</div>
            </td>
            <td width="133.33333333333331">
              <div>
                <nobr>
                  <font size="3"><img src="images/important.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td>
              <font size="3"><a name="1035455">In </a><a href="#1037643" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;8</u></font></a><a href="#1037643" title="C"> </a>, node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font> is not shaded because it was not electrically connected to <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font> when <font color="#000000"><em>metal1</em></font> was processed. That is, because the charge accumulated on <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font> when <font color="#000000"><em>metal1</em></font> was processed cannot damage gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, the router does not include it in the calculations for <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>. <br><br>Another way to explain this is to say that the PAE from node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font> with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font> is <font size="2" face="'Courier New'" color="#000000">0</font>.</font>
            </td>
          </tr>
        </table>
      </div>
      <h4><a name="1035456">Calculations for CAR on the First Metal Layer</a></h4>
      <p><a href="#1037535" title="C" name="1035457"><font color="Blue"><u>Figure&nbsp;C&#45;9</u></font></a><a href="#1037535" title="C"></a> shows the chip after the first metal layer is processed.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;9&nbsp; </strong></font></strong>
        <strong><a name="1037535">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035507"><img src="images/PAE.10.1.18.png" width="675" height="139" alt=""><br></a></p>
      <p><a name="1035508">In the figure above,</a></p>
      <p><a name="1035509"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1035510"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1035511">Because </a><font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> equals <font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>, <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>) equals <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>. </p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1035512">In general, </a><font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font>,<font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> equals <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub><em>k'</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> if the two gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k'</em></sub></font> are electrically connected to the same node on <font color="#000000"><em>metal1</em></font>, the lowest layer that is subject to the process antenna effect.</p>
      <h4><a name="1035513">Calculations for CAR on the Second Metal Layer</a></h4>
      <p><a href="#1037540" title="C" name="1035514"><font color="Blue"><u>Figure&nbsp;C&#45;10</u></font></a><a href="#1037540" title="C"></a> shows the chip after the second metal layer is processed.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;10&nbsp; </strong></font></strong>
        <strong><a name="1037540">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1037728"><img src="images/PAE.10.1.19.png" width="675" height="234" alt=""><br></a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="13.333333333333332">
              <div>&nbsp;</div>
            </td>
            <td width="133.33333333333331">
              <div>
                <nobr>
                  <font size="3"><img src="images/important.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td>
              <font size="3"><a name="1037729">In the figure above, </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font> is not included in the calculations for <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> because it was not electrically connected to <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font> when <font color="#000000"><em>metal1</em></font> was processed. That is, because the charge accumulated on <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font> when <font color="#000000"><em>metal1</em></font> was processed cannot damage gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, the router does not include it in the calculations for <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font size="2" face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>. </font>
            </td>
          </tr>
        </table>
      </div>
      <p><a name="1035594">In the figure above,</a></p>
      <p><a name="1035595"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font>,<font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1035596"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font>,<font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1035597">Gates </a><font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font> and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font> have the same history with regard to PAE because they are connected to the same piece of <font color="#000000"><em>metal1</em></font>, so they have the same CAR for any node on a specified layer:</p>
      <p><a name="1035598"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) = CAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <h4><a name="1035599">Calculations for CAR on the Third Metal Layer</a></h4>
      <p><a href="#1037545" title="C" name="1035600"><font color="Blue"><u>Figure&nbsp;C&#45;11</u></font></a><a href="#1037545" title="C"></a> shows the chip after the third metal layer is processed. </p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;11&nbsp; </strong></font></strong>
        <strong><a name="1037545">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035685"><img src="images/PAE.10.1.20.png" width="675" height="287" alt=""><br></a></p>
      <h4>
        <em></em>
        <em><a name="1035686">Gate G</a><font color="#000000"><strong><sub>1</sub></strong></font></em>
      </h4>
      <p><a name="1035687">In the figure above,</a></p>
      <p><a name="1035688"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> </p>
      <h4>
        <em></em>
        <em><a name="1035689">Gate G</a><font color="#000000"><strong><sub>2</sub></strong></font></em>
      </h4>
      <p><a name="1035690">In the figure above, </a></p>
      <p><a name="1035691"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> </p>
      <p><a name="1035692"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> equals <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> because gates <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font> and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font> are both electrically connected to the same node, <font size="2" face="'Courier New'" color="#000000">N</font><font color="#000000"><sub>1,1</sub></font>, on <font color="#000000"><em>metal1</em></font> and therefore have the same history with regard to PAE. Therefore, the formula for <font size="2" face="'Courier New'" color="#000000">CAR(</font><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>3,2</sub></font>, <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> is <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) = CAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <h4>
        <em></em>
        <em><a name="1035693">Gates G</a><font color="#000000"><strong><sub>3</sub></strong></font> and G<font color="#000000"><strong><sub>4</sub></strong></font></em>
      </h4>
      <p><a name="1035694">Gates </a><font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font> and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font> are not connected to the same node on <font color="#000000"><em>metal1</em></font> and therefore do not have the same history with regard to PAE. Therefore, the <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> and <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> do not necessarily equal <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> or <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>.</p>
      <p><a name="1035695">In </a><a href="#1037550" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;12</u></font></a><a href="#1037550" title="C"> </a>, the relevant areas for calculating CAR for gate <font size="2" face="'Courier New'" color="#000000">G</font><font color="#000000"><sub>3</sub></font> are shaded.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;12&nbsp; </strong></font></strong>
        <strong><a name="1037550">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035776"><img src="images/PAE.10.1.21.png" width="675" height="254" alt=""><br></a></p>
      <p><a name="1035777">In the figure above,</a></p>
      <p><a name="1035778"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1035779">In </a><a href="#1037555" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;13</u></font></a><a href="#1037555" title="C"> </a>, the relevant areas for calculating CAR for gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font> are shaded.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;13&nbsp; </strong></font></strong>
        <strong><a name="1037555">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035860"><img src="images/PAE.10.1.22.png" width="675" height="254" alt=""><br></a></p>
      <p><a name="1035861">In the figure above, </a></p>
      <p><a name="1035862"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,3</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,2</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <h4><a name="1035863">Calculations for CAR on the Fourth Metal Layer</a></h4>
      <p><a name="1035864">The following figure shows the chip after the fourth metal layer is processed. </a></p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1035865">Node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font> is connected to the diffusion layer through the output diode. After the router calculates the antenna ratio, it compares its calculations to the area of the diffusion, instead of the area of the gates.</p>
      <h4>
        <em></em>
        <em><a name="1035866">Gates G</a><font color="#000000"><strong><sub>1</sub></strong></font> and G<font color="#000000"><strong><sub>2</sub></strong></font></em>
      </h4>
      <p><a name="1035867">In </a><a href="#1037560" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;14</u></font></a><a href="#1037560" title="C"> </a>, the relevant areas for calculating <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>) and <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) </font>are shaded.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;14&nbsp; </strong></font></strong>
        <strong><a name="1037560">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1035954"><img src="images/PAE.10.1.23.png" width="675" height="315" alt=""><br></a></p>
      <p><a name="1035955">In the figure above,</a></p>
      <p><a name="1035956"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) <br>&nbsp;&nbsp;+ PAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1035957"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) <br>&nbsp;&nbsp;+ PAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1035958"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) = CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <h4>
        <em></em>
        <em><a name="1035959">Gate G</a><font color="#000000"><strong><sub>3</sub></strong></font></em>
      </h4>
      <p><a name="1035960">In </a><a href="#1037567" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;15</u></font></a><a href="#1037567" title="C"> </a>, the relevant areas for calculating <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font>) are shaded.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;15&nbsp; </strong></font></strong>
        <strong><a name="1037567">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1036047"><img src="images/PAE.10.1.24.png" width="675" height="315" alt=""><br></a></p>
      <p><a name="1036048">In the figure above,</a></p>
      <p><a name="1036049"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">) <br>&nbsp;&nbsp;+ PAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1036050"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> does not equal <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> or <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> because it is not connected to the same node on <font color="#000000"><em>metal1</em></font><font size="2" face="'Courier New'" color="#000000">.</font></p>
      <h4>
        <em></em>
        <em><a name="1036051">Gate G</a><font color="#000000"><strong><sub>4</sub></strong></font></em>
      </h4>
      <p><a name="1036052">In </a><a href="#1037572" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;16</u></font></a><a href="#1037572" title="C"> </a>, the relevant areas for calculating <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font>) are shaded.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;16&nbsp; </strong></font></strong>
        <strong><a name="1037572">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1036139"><img src="images/PAE.10.1.25.png" width="675" height="315" alt=""><br></a></p>
      <p><a name="1036140">In the figure above,</a></p>
      <p><a name="1036141"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>1,3</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>2,2</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">) <br>&nbsp;&nbsp;+ PAR(N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">) + PAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <p><a name="1036142"><font size="2" face="'Courier New'" color="#000000">CAR(N</font></a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font><font size="2" face="'Courier New'" color="#000000">)</font> does not equal <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>, <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>, or <font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub>4,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font><font size="2" face="'Courier New'" color="#000000">) </font>because it is not connected to the same node on <font color="#000000"><em>metal1</em></font><font size="2" face="'Courier New'" color="#000000">.</font></p>
      <h3><a name="1036143">Calculating Ratios for a Cut Layer</a></h3>
      <p><a name="1036144">The router calculates damage from a cut layer separately from damage from a metal layer. Calculations for the cut layers do not use side area modelling. </a></p>
      <h4><a name="1036150">Calculating a PAR on a Cut Layer</a></h4>
      <p><a name="1040443">The general PAR(c</a><font color="#000000"><sub>i</sub></font>) equation for a single layer is calculated as: <br><img src="images/PAE.10.1.26.png" width="658" height="60" alt=""><br></p>
      <p><a name="1040494">The existing </a><font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> statement is shown as <font size="2" face="'Courier New'" color="#000000"><em>cutFactor</em></font> for the metal area. Likewise, the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREADIFFREDUCEPWL</font> statement is shown as <font size="2" face="'Courier New'" color="#000000"><em>diffAreaReduceFactor</em></font>, the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAMINUSDIFF</font> statement is shown as <font size="2" face="'Courier New'" color="#000000"><em>minusDiffFactor</em></font>, and the <font size="2" face="'Courier New'" color="#000000">ANTENNAGATEPLUSDIFF</font> statement is shown as <font size="2" face="'Courier New'" color="#000000"><em>plusDiffFactor</em></font>. For cut layer, the ratio equation illustrates the effect of an <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> <font size="2" face="'Courier New'" color="#000000"><em>cutFactor</em></font> statement as <font size="2" face="'Courier New'" color="#000000"><em>metalFactor</em></font>. If there is no preceding <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> statement, the <font size="2" face="'Courier New'" color="#000000"><em>metalFactor</em></font> value defaults to <font size="2" face="'Courier New'" color="#000000">1.0</font>. </p>
      <p><a name="1040457">In the figures and text that follow,</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040458"><font size="2" face="'Courier New'" color="#000000">C</font></a><font size="2" face="'Courier New'" color="#000000"><em>ij</em></font> is the cut layer between <font color="#000000"><em>metal</em></font><font face="'Courier New'" color="#000000"><sub><em>i</em></sub></font> and <font color="#000000"><em>metal</em></font><font face="'Courier New'" color="#000000"><sub><em>j</em></sub></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040459"><font size="2" face="'Courier New'" color="#000000">N</font></a><font face="'Courier New'" color="#000000"><sub>C</sub></font><font face="'Courier New'" color="#000000"><sub><em>ij</em></sub></font><font face="'Courier New'" color="#000000"><sub>,</sub></font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> specifies an electrically connected node on <font size="2" face="'Courier New'" color="#000000">C</font><font size="2" face="'Courier New'" color="#000000"><em>ij</em></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040460">The nodes are numbered sequentially, from left to right.</a></td>
          </tr>
        </table>
      </div>
      <p><a href="#1037577" title="C" name="1036151"><font color="Blue"><u>Figure&nbsp;C&#45;17</u></font></a><a href="#1037577" title="C"></a> shows the chip after the <font size="2" face="'Courier New'" color="#000000">C12</font> process step.</p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;17&nbsp; </strong></font></strong>
        <strong><a name="1037577">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1036223"><img src="images/PAE.10.1.27.png" width="675" height="170" alt=""><br></a></p>
      <p><a name="1036224">In the figure above,</a></p>
      <p align="left"><a name="1036237"><img src="images/PAE.10.1.28.png" width="675" height="51" alt=""><br></a></p>
      <p><a name="1036238">As in calculations on the metal layers,</a></p>
      <p><a name="1036239"><font size="2" face="'Courier New'" color="#000000">PAR(N</font></a><font face="'Courier New'" color="#000000"><sub>C12,1,</sub></font><font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font><font size="2" face="'Courier New'" color="#000000">) = PAR(N</font><font face="'Courier New'" color="#000000"><sub>C12,1</sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font><font size="2" face="'Courier New'" color="#000000">)</font></p>
      <h4><a name="1036240">Calculating a CAR on a Cut Layer</a></h4>
      <p><a name="1040505">As explained in </a><a href="../lefdefref/PAE.html#CalculatingAntennaRatios" target="external_window"><font color="#0000ff"><u>"Calculating Antenna Ratios"</u></font></a>:</p>
      <blockquote><a name="1040506"><font color="#000000">CAR(c</font></a><font color="#000000"><sub>i</sub></font><font color="#000000">) = PAR(c</font><font color="#000000"><sub>i</sub></font><font color="#000000">) + CAR(c</font><font color="#000000"><sub>i&#45;1</sub></font><font color="#000000">)</font> </blockquote>
      <p><a name="1040507">To create a single accumulative model that combines both metal and cut damage into one model, specify the </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMROUTINGPLUSCUT</font> statement for the layer, so that:</p>
      <blockquote><a name="1040508"><font color="#000000">CAR(c</font></a><font color="#000000"><sub>i</sub></font><font color="#000000">) = PAR(c</font><font color="#000000"><sub>i</sub></font><font color="#000000">) + CAR(m</font><font color="#000000"><sub>i&#45;1</sub></font><font color="#000000">)</font> </blockquote>
      <p><a name="1040509">This means that the CAR from the </a><font color="#000000"><em>metal</em></font> layer below this cut layer is accumulated, instead of the CAR from the cut layer below this cut layer. </p>
      <p><a href="#1037582" title="C" name="1036241"><font color="Blue"><u>Figure&nbsp;C&#45;18</u></font></a><a href="#1037582" title="C"></a> shows the chip after the <font size="2" face="'Courier New'" color="#000000">C23</font> process step. </p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;18&nbsp; </strong></font></strong>
        <strong><a name="1037582">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1036342"><img src="images/PAE.10.1.29.png" width="675" height="229" alt=""><br></a></p>
      <p><a name="1036343">The router calculates the CAR with respect to gate </a><font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font> after the cut <font size="2" face="'Courier New'" color="#000000">C23</font> process step as follows:</p>
      <p align="left"><a name="1036366"><img src="images/PAE.10.1.30.png" width="675" height="59" alt=""><br></a></p>
      <p><a href="#1037587" title="C" name="1036367"><font color="Blue"><u>Figure&nbsp;C&#45;19</u></font></a><a href="#1037587" title="C"></a> shows the chip after the <font size="2" face="'Courier New'" color="#000000">C34</font> process step. </p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;19&nbsp; </strong></font></strong>
        <strong><a name="1037587">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1036483"><img src="images/PAE.10.1.31.png" width="675" height="297" alt=""><br></a></p>
      <p><a name="1036484">The router calculates the CAR with respect to gate </a><font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font> after the cut <font size="2" face="'Courier New'" color="#000000">C34</font> process step as follows:</p>
      <p align="left"><a name="1036520"><img src="images/PAE.10.1.32.png" width="675" height="95" alt=""><br></a></p>
      <h2><a name="1036523">Checking for Antenna Violations</a></h2>
      <p><a name="1036524">For each metal layer, the router performs several antenna checks, using the keywords and values specified in the LEF or DEF file. The router can perform the following four types of antenna checks, depending on the keywords you set in the LEF file:</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1036542" title="C" name="1036528"><font color="#0000ff"><u>Area Ratio Check</u></font></a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1036566" title="C" name="1036532"><font color="#0000ff"><u>Side Area Ratio Check</u></font></a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1036590" title="C" name="1036536"><font color="#0000ff"><u>Cumulative Area Ratio Check</u></font></a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a href="#1036600" title="C" name="1036540"><font color="#0000ff"><u>Cumulative Side Area Ratio Check</u></font></a></td>
          </tr>
        </table>
      </div>
      <h3><a name="1036542">Area Ratio Check</a></h3>
      <p><a name="1036543">The area ratio check compares the PAR for each layer to the value of the </a><font size="2" face="'Courier New'" color="#000000">ANTENNAAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREARATIO</font>.</p>
      <p><a name="1036544">The router calculates the PAR as follows:</a></p>
      <p align="left"><a name="1037752"><img src="images/PAE.10.1.33.png" width="675" height="54" alt=""><br></a></p>
      <p><a name="1037754">According to the formula above, the area ratio check finds the PAR for node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> by dividing the drawn area of the node by the area of the gates that are electrically connected to it. The final PAR is multiplied by the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> (the default value for the factor is <font size="2" face="'Courier New'" color="#000000">1</font>) and compared to the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREARATIO</font>. If the PAR is greater than the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREARATIO</font> specified in the LEF file, the router finds a process antenna violation and attempts to fix it.</p>
      <p><a name="1036560">The link between </a><font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> and a PAE violation at node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> depends on whether node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> is connected to a piece of diffusion, as follows:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036561">If there is no connection from node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j </em></sub></font>to a diffusion area through the current and lower layers, a violation occurs when the PAR is greater than the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREARATIO</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036562">If there is a connection from node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j </em></sub></font>to a diffusion area through current and lower layers, a violation occurs when the PAR is greater than the <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREARATIO</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1038752">If there is a connection from node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j </em></sub></font>to a diffusion area through current and lower layers, and <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREA</font> is not specified for an output or inout pin, the value is <font size="2" face="'Courier New'" color="#000000">0</font>. </td>
          </tr>
        </table>
      </div>
      <h3><a name="1036566">Side Area Ratio Check</a></h3>
      <p><a name="1036567">The side area ratio check compares the PAR computed based on the side area of the nodes for each layer to the value of the </a><font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFSIDEAREARATIO</font>.</p>
      <p><a name="1036568">The router calculates the PAR as follows:</a></p>
      <p align="left"><a name="1036581"><img src="images/PAE.10.1.34.png" width="675" height="69" alt=""><br></a></p>
      <p><a name="1036583">According to the formula above, the area ratio check finds the PAR for node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> by dividing the side area of the node by the area of the gates that are electrically connected to <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font>. The final PAR is multiplied by the <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREAFACTOR</font> (the default value for the factor is <font size="2" face="'Courier New'" color="#000000">1</font>) and compared to the <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFSIDEAREARATIO</font>. If the PAR is greater than the <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFSIDEAREARATIO</font> specified in the LEF file, the router finds a process antenna violation and attempts to fix it.</p>
      <p><a name="1036584">The link between </a><font size="2" face="'Courier New'" color="#000000">PAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> and a PAE violation at node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> depends on whether node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> is connected to a piece of diffusion, as follows:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036585">If there is no connection to the diffusion area through the current and lower layers, a violation occurs when the PAR is greater than the </a><font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREARATIO</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036586">If there is a connection to the diffusion area through current and lower layers, a violation occurs when the PAR is greater than the </a><font size="2" face="'Courier New'" color="#000000">ANTENNADIFFSIDEAREARATIO</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1038763">If there is a connection to the diffusion area through current and lower layers, and </a><font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREA</font> is not specified for an output or inout pin, the value is <font size="2" face="'Courier New'" color="#000000">0</font>. </td>
          </tr>
        </table>
      </div>
      <h3><a name="1036590">Cumulative Area Ratio Check</a></h3>
      <p><a name="1036591">The cumulative area ratio check compares the CAR to the value of </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFFAREARATIO</font>. The CAR is equal to the sum of the PARs of all nodes on the same or lower layers that are electrically connected to the gate.</p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1036592">When you use CARs, you can ignore metal layers by not specifying the CAR keywords for those layers. For example, if you want to check </a><font color="#000000"><em>metal1</em></font> using a PAR and the remaining metal layers using a CAR, you can define <font size="2" face="'Courier New'" color="#000000">ANTENNAAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREARATIO</font> for <font color="#000000"><em>metal1</em></font>, and <font size="2" face="'Courier New'" color="#000000">ANTENNACUMAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMSIDEAREARATIO</font> for the remaining metal layers.</p>
      <p><a name="1036593">The cumulative area ratio check finds the CAR for node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> by adding the PARs for all layers of metal, from the current layer down to <font color="#000000"><em>metal1</em></font>, for all nodes that are electrically connected <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>k</sub></font>. The final CAR is multiplied by the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> (the default value for the factor is <font size="2" face="'Courier New'" color="#000000">1</font>) and compared to the <font size="2" face="'Courier New'" color="#000000">ANTENNACUMAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFFAREARATIO</font>. If the CAR is greater than the <font size="2" face="'Courier New'" color="#000000">ANTENNACUMAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFFAREARATIO</font> specified in the LEF file, the router finds a process antenna violation and attempts to fix it.</p>
      <p><a name="1036594">The link between </a><font size="2" face="'Courier New'" color="#000000">CAR(N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font><font size="2" face="'Courier New'" color="#000000">,G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font><font size="2" face="'Courier New'" color="#000000">)</font> and a PAE violation at node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> depends on whether node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> is connected to a piece of diffusion, as follows:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036595">If there is no connection to a diffusion area through the current and lower layers, a violation occurs when the CAR is greater than the </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMAREARATIO</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036596">If there is a connection to a diffusion area through current and lower layers, a violation occurs when the CAR is greater than the </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFFAREARATIO</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1038771">If there is a connection to a diffusion area through current and lower layers, and </a><font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREA</font> is not specified for an output or inout pin, the value is <font size="2" face="'Courier New'" color="#000000">0</font>. </td>
          </tr>
        </table>
      </div>
      <h3><a name="1036600">Cumulative Side Area Ratio Check</a></h3>
      <p><a name="1036601">The cumulative side area ratio check compares the CAR to the value of the </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMSIDEAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFFAREARATIO</font>.</p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1036602">When you use CARs, you can ignore metal layers by not specifying the CAR keywords for those layers. For example, if you want to check </a><font color="#000000"><em>metal1</em></font> using a PAR and the remaining metal layers using a CAR, you can define <font size="2" face="'Courier New'" color="#000000">ANTENNAAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREARATIO</font> for <font color="#000000"><em>metal1</em></font>, and <font size="2" face="'Courier New'" color="#000000">ANTENNACUMAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMSIDEAREARATIO</font> for the remaining metal layers.</p>
      <p><a name="1036604">The cumulative side area ratio check finds the CAR for node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub><em>i,j</em></sub></font> with respect to gate <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub><em>k</em></sub></font> by adding the PARs for all layers of metal, from the current layer down to <font color="#000000"><em>metal1</em></font>, for all nodes that are electrically connected <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>k</sub></font>. The final CAR is multiplied by the <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREAFACTOR</font> (the default value for the factor is <font size="2" face="'Courier New'" color="#000000">1</font>) and compared to the <font size="2" face="'Courier New'" color="#000000">ANTENNACUMSIDEAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFFAREARATIO</font>. If the CAR is greater than the <font size="2" face="'Courier New'" color="#000000">ANTENNACUMSIDEAREARATIO</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFFAREARATIO</font> specified in the LEF file, the router finds a process antenna violation and attempts to fix it.</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036605">If there is no connection to a diffusion area through the current and lower layers, a violation occurs when the CAR is greater than the </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMSIDEAREARATIO</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036606">If there is a connection to a diffusion area through current and lower layers, a violation occurs when the CAR is greater than the </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMSIDEAREARATIO</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1038777">If there is a connection to a diffusion area through current and lower layers, and </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMDIFFAREA</font> is not specified for an output or inout pin, the value is <font size="2" face="'Courier New'" color="#000000">0</font>. </td>
          </tr>
        </table>
      </div>
      <h3><a name="CutProcessAntennaModelExamples"></a><a name="1040341">Cut Layer Process Antenna Model Examples</a></h3>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040344"><font color="#000000"><strong>Example 1</strong></font></a> </td>
          </tr>
        </table>
      </div>
      <blockquote><a name="1040345">To create the following process antenna rule for a cut layer </a><font color="#000000"><em>via1</em></font>:</blockquote>
      <blockquote>
<blockquote>        <font color="#000000"><a name="1040346"><font color="#000000">cut_area &#47; (gate_area + 2.0 x diff_area) &#60;= 10</font></a> </font></blockquote>
      </blockquote>
      <blockquote><a name="1040347">Cut layers should include the following information:</a></blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040348">ANTENNAGATEPLUSDIFF 2.0 ;</a></font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040349">ANTENNADIFFAREARATIO 10 ;</a></font></blockquote>
      </blockquote>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040350"><font color="#000000"><strong>Example 2</strong></font></a> </td>
          </tr>
        </table>
      </div>
      <blockquote><a name="1040351">Assume the following process antenna rule:</a></blockquote>
      <blockquote>
<blockquote>        <font color="#000000"><a name="1040352"><font color="#000000">cut_area x PWL(diff_area) &#47; gate_area &#60;= 10</font></a> </font></blockquote>
      </blockquote>
      <blockquote><a name="1040353">This rule uses a cumulative model with diffusion area reduction function, where: </a></blockquote>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.872">
              <div>&nbsp;</div>
            </td>
            <td width="32.128319999999995">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/bs_bullet_sub.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040354"><font color="#000000">PAR = (cut_area x diffReduceFactor) &#47; gate_area &#60;= 10</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.872">
              <div>&nbsp;</div>
            </td>
            <td width="32.128319999999995">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/bs_bullet_sub.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040355"><font color="#000000">diffReduceFactor</font></a> = 1.0 for diff_area &#60; 0.1<font face="symbol" color="#000000">μ</font>m<font color="#000000"><sup>2</sup></font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.872">
              <div>&nbsp;</div>
            </td>
            <td width="32.128319999999995">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/bs_bullet_sub.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040356"><font color="#000000">diffReduceFactor</font></a> = 0.2 for diff_area &#62;= 0.1 <font face="symbol" color="#000000">μ</font>m<font color="#000000"><sup>2</sup></font> </td>
          </tr>
        </table>
      </div>
      <blockquote><a name="1040357">Cut layers should include the following information:</a></blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040358">ANTENNAAREADIFFREDUCEPWL ( ( 0.0 1.0 ) ( 0.0999 1.0 ) ( 0.1 0.2 ) </a></font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040359">    ( 1000.0 0.2 ) ) ;</a></font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040360">ANTENNACUMDIFFAREARATIO 10 ;</a></font></blockquote>
      </blockquote>
      <p><a name="1040342">For examples of models that use the </a><font size="2" face="'Courier New'" color="#000000">ANTENNACUMROUTINGPLUSCUT</font> and the <font size="2" face="'Courier New'" color="#000000">ANTENNAAREAMINUSDIFF</font> rules, see the examples below in "Routing Layer Process Antenna Models." </p>
      <h3><a name="RoutingProcessAntennaModelExamples"></a><a name="1040085">Routing Layer Process Antenna Model Examples</a></h3>
      <p><a name="1040091">The following process antenna rule examples use the topology shown in </a><a href="#1040170" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;20</u></font></a><a href="#1040170" title="C"></a>. In this figure, there are two polysilicon gates (G1, G2), one diffusion connection (D1), contacts (C), and via (<font color="#000000"><em>V1</em></font>, <font color="#000000"><em>V2</em></font>) and metal (<font color="#000000"><em>M1</em></font>, <font color="#000000"><em>M2</em></font>, <font color="#000000"><em>M3</em></font>) shapes. Note that <font color="#000000"><em>M1,2</em></font> is one LEF <font size="2" face="'Courier New'" color="#000000">PIN</font>, and <font color="#000000"><em>M1,3</em></font> is a different LEF <font size="2" face="'Courier New'" color="#000000">PIN</font>. The other metal is routing. </p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;20&nbsp; </strong></font></strong>
        <strong><a name="1040170"><img src="images/PAE.10.1.35.png" width="675" height="215" alt=""><br></a></strong>
      </p>
      <p><a name="1040196">The following area values are also used for the examples:</a></p>
      <table summary="" border="0" cellpadding="4" cellspacing="0" bordercolor="#D3D3D3" width="528">
        <tr>
          <td cellpadding="4" valign="top" width="167">
            <p><a name="1040173">G1 = 1.0</a></p>
          </td>
          <td cellpadding="4" valign="top" width="180">
            <p><a name="1040175">D1 = 0.5</a></p>
          </td>
          <td cellpadding="4" valign="top" width="180">
            <p><a name="1040177">M2,1 = 4.0</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1040179">G2 = 2.0</a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1040181">M1,1 = 1.0</a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1040183">M2,2 = 5.0</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1040185">All Cs = 0.1</a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1040187">M1,2 = 2.0</a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1040189">M3,1 = 6.0</a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1040191">All Vs = 0.1</a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1040193">M1,3 = 3.0</a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1040195">M3,2 = 9.0</a></p>
          </td>
        </tr>
      </table>
      <p><a name="1040197"><font color="#000000"><strong>Example 1</strong></font></a></p>
      <p><a name="1040198">The following process antenna rule combines cut area and metal area into one cumulative rule:</a></p>
      <blockquote><a name="1040199"><font color="#000000">ratio = (metal _area + 10 x cut_area) &#47; gate_area</font></a> </blockquote>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040200">The cumulative ratio &#60;= 1000 for diffusion &#60; 0.1, and &#60;= 4000 for diffusion &#62;= 0.1</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1040201">The single layer ratio &#60;= 500 for diffusion &#60; 0.1, and &#60;= 1500 for diffusion &#62;= 0.1</a></td>
          </tr>
        </table>
      </div>
      <p><a name="1040202">Every routing layer should include the following information:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040203">ANTENNACUMROUTINGPLUSCUT ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040204">ANTENNACUMDIFFAREARATIO ( ( 0.0 1000 ) ( 0.0999 1000 ) ( 0.1 4000 ) </a></font>
      </p>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040205">( 1000.0 4000 ) ) ;</a></font>
      </blockquote>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040206">ANTENNADIFFAREARATIO ( ( 0.0 5000 ) ( 0.0999 500 ) ( 0.1 1500 )</a></font>
      </p>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040207">( 1000.0 1500 ) ) ;</a></font>
      </blockquote>
      <p><a name="1040208">Every cut layer should include the following information:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040209">ANTENNAAREAFACTOR 10 ; #10.0 x cut area</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040210">ANTENNACUMROUTINGPLUSCUT ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040211">ANTENNACUMDIFFAREARATIO ( ( 0.0 1000 ) ( 0.0999 1000 ) ( 0.1 4000 ) </a></font>
      </p>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040212">( 1000.0 4000 ) ) ;</a></font>
      </blockquote>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040213">ANTENNADIFFAREARATIO ( ( 0.0 5000 ) ( 0.0999 500 ) ( 0.1 1500 )</a></font>
      </p>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040214">( 1000.0 1500 ) ) ;</a></font>
      </blockquote>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1040215"><font size="2" face="'Courier New'" color="#000000">ANTENNAAREARATIO</font></a> and <font size="2" face="'Courier New'" color="#000000">ANTENNACUMAREARATIO</font> are not required because the <font size="2" face="'Courier New'" color="#000000">*DIFFAREARATIO</font> statements are checked, even if diff_area is equal to 0. </p>
      <p><a name="1040216">For gate </a><font size="2" face="'Courier New'" color="#000000">G1</font>, the PARs and CARs are computed as follows:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	1.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040217"><font color="#000000">CAR(C,G1) = 10 x area(C1) &#47; area(G1) = 10 x 0.1 &#47; 1.0 = 1.0</font></a> </td>
          </tr>
        </table>
      </div>
      <blockquote><a name="1040218">The polysilicon and contact cut layer and shapes are not normally visible in LEF and DEF. If the contact cut area should be included, its CAR value should be included with LEF </a><font size="2" face="'Courier New'" color="#000000">PIN A</font>, using appropriate <font size="2" face="'Courier New'" color="#000000">ANTENNA</font> statements. The <font color="#000000"><em>M1</em></font> <font size="2" face="'Courier New'" color="#000000">PIN</font> area should not be included because <font color="#000000"><em>M1</em></font> area is a <font size="2" face="'Courier New'" color="#000000">PIN</font> shape in the LEF and will be added in by tools reading LEF. Therefore, there should be two antenna statements for LEF <font size="2" face="'Courier New'" color="#000000">PIN A</font>, either:</blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040219">ANTENNAGATEAREA 1.0 LAYER M1 ;</a></font>
      </blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040220">ANTENNAMAXCUTCAR 1.0 LAYER C ;</a></font>
      </blockquote>
      <blockquote><a name="1040221">or:</a></blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040222">ANTENNAGATEAREA 1.0 LAYER M1 ;</a></font>
      </blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040223">ANTENNAMAXAREACAR 1.0 LAYER M1 ;</a></font>
      </blockquote>
      <blockquote><a name="1040224">Because the </a><font color="#000000"><em>M1</em></font> <font size="2" face="'Courier New'" color="#000000">PIN</font> area is not included in the <font size="2" face="'Courier New'" color="#000000">MAXAREACAR</font> value, both of sets of statements give the same results. For more details, see <a href="#1036921" title="C"><font color="#0000ff"><u>"Calculations for Hierarchical Designs."</u></font></a> </blockquote>
      <blockquote><a name="1040226">Similarly, the LEF </a><font size="2" face="'Courier New'" color="#000000">PIN B</font> should have values, such as either:</blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040227">ANTENNAGATEAREA 2.0 LAYER M1 ;</a></font>
      </blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040228">ANTENNADIFFAREA 0.5 LAYER M1 ;</a></font>
      </blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040229">ANTENNAMAXCUTCAR 1.0 LAYER C ; #only C2 affects G2; C3 does not</a></font>
      </blockquote>
      <blockquote><a name="1040230">or: </a></blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040231">ANTENNAGATEAREA 2.0 LAYER M1 ;</a></font>
      </blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040232">ANTENNADIFFAREA 0.5 LAYER M1 ;</a></font>
      </blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040233">ANTENNAMAXAREACAR 1.0 LAYER M1 ; #only C2 affects G2; C3 does not</a></font>
      </blockquote>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	2.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040234"><font color="#000000">PAR(M1,G1) = area(M1,2) &#47; area(G1) = 2 &#47; 1 = 2.0</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	3.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040235"><font color="#000000">CAR(M1,G1) = PAR(M1,G1) + PIN A's CAR(C,G1) <br>PIN A's CAR(C,G1) = ANTENNAMAXCUTCAR for LAYER C = 1.0 <br>= 2.0 + 1.0 = 3.0</font></a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	4.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040236"><font color="#000000">diode_area = 0, single&#45;layer PWL(0) = 500,</font></a> check <font color="#000000">PAR(M1,G1) = 2.0 &#60;= 500,<br>cum&#45;layer PWL(0) = 1000,</font> therefore check <font color="#000000">CAR(M1,G1) = 3.0 &#60;= 1000 </font></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	5.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040237"><font color="#000000">PAR(V1,G1) = 10 x area(V1,2 + V1,3) &#47; area(G1) = 10 x 0.2 &#47; (1) = 2.0</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	6.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040238"><font color="#000000">CAR(V1,G1) = PAR(V1,G1) + CAR(M1,G1) = 2.0 + 3.0 = 5.0</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	7.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040239"><font color="#000000">diode_area = 0, single&#45;layer PWL(0) = 500,</font></a> check <font color="#000000">PAR(V1,G1) = 2.0 &#60;= 500,<br>cum_layer PWL(0) = 1000,</font> therefore check <font color="#000000">CAR(V1,G1) = 5.0 &#60;= 1000</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	8.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040240"><font color="#000000">PAR(M2,G1) = area(M2,1 + M2,2) &#47; area(G1 + G2) = (4+5) &#47; (1 + 2) = 3.0</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	9.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040241"><font color="#000000">CAR(M2,G1) = PAR(M2,G1) + CAR(V1,G1) = 3.0 + 5.0 = 8.0</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	10.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040242"><font color="#000000">diode_area = 0.5, single&#45;layer PWL(0.5) = 1500,</font></a> check <font color="#000000">PAR(M2,G1) = 3.0 &#60;= 1500,<br>cum_layer PWL(0.5) = 4000,</font> therefore check <font color="#000000">CAR(M2, G1) = 8.0 &#60;= 4000</font></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	11.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040243"><font color="#000000">PAR(V2,G1) = 10 x area(V2,1 + V2,2) &#47; area(G1 + G2) = 10 x 0.2 &#47; (1 + 2) = 0.67</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	12.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040244"><font color="#000000">CAR(V2,G1) = PAR(V2,G1) + CAR(M2,G1) = 0.67 + 8.0 = 8.67</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	13.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040245"><font color="#000000">diode_area = 0.5, single&#45;layer PWL(0.5) = 1500,</font></a> check <font color="#000000">PAR(V2,G1) = 0.67 &#60;= 1500, <br>cum_layer PWL(0.5) = 4000,</font> therefore check <font color="#000000">CAR(V2, G1) = 8.67 &#60;= 4000</font></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	14.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040246"><font color="#000000">PAR(M3,G1) = area(M3,1 + M3,2) &#47; area(G1 + G2) = (6 + 9) &#47; (1 + 2) = 5</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	15.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040247"><font color="#000000">CAR(M3,G1) = PAR(M3,G1) + CAR(V2,G1) = 5 + 8.67 = 12.34</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	16.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040248"><font color="#000000">diode_area = 0.5, single&#45;layer PWL(0.5) = 1500,</font></a> check <font color="#000000">PAR(M3,G1) = 5 &#60;= 1500,<br>cum_layer PWL(0.5) = 4000,</font> therefore check <font color="#000000">CAR(M3,G1) = 13.67 &#60;= 4000</font> </td>
          </tr>
        </table>
      </div>
      <p><a name="1040249"><font color="#000000"><strong>Example 2</strong></font></a> </p>
      <p><a name="1040250">The following cumulative rule is the same as the rule in Example 1, except it also subtracts the diff_area factor. Only the cumulative model is used.</a></p>
      <blockquote><a name="1040251"><font color="#000000">ratio = [(metal_area + 10 x cut_area) &#45; (100 x diff_area)] &#47; gate_area</font></a> </blockquote>
      <p><a name="1040252">Every routing layer should include the following information:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040253">ANTENNACUMROUTINGPLUSCUT ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040254">ANTENNAAREAMINUDIFF 100.0 ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040255">ANTENNACUMDIFFAREARATIO 1000 ;</a></font>
      </p>
      <p><a name="1040256">Every cut layer should include the following information:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040257">ANTENNAAREAFACTOR 10 ;  #10.0 x cut area</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040258">ANTENNACUMROUTINGPLUSCUT ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040259">ANTENNAAREAMINUDIFF 100.0 ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040260">ANTENNACUMDIFFAREARATIO 1000 ;</a></font>
      </p>
      <p><a name="1040261">For gate </a><font size="2" face="'Courier New'" color="#000000">G1</font>, the PARs and CARs are computed as follows:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	1.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040262"><font color="#000000">CAR(C,G1) = 10 x area(C1) &#47; area(G1) = 10 x 0.1 &#47; 1.0 = 2.0</font></a> </td>
          </tr>
        </table>
      </div>
      <blockquote><a name="1040263">This value is on the LEF </a><font size="2" face="'Courier New'" color="#000000">PIN</font>, as mentioned in Example 1.</blockquote>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	2.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040264"><font color="#000000">PAR(M1,G1) = area(M1,2) &#47; area(G1) &#45; (100 x diff_area) = (2 &#47; 1) &#45; (100 x 0) = 2.0</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	3.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040265"><font color="#000000">CAR(M1,G1) = PAR(M1,G1) + PIN A's CAR(C,G1)</font></a> <br><font color="#000000">PIN A's CAR(M1) = ANTENNAMAXAREACAR for LAYER M1 = 1.0</font> <br> <font color="#000000">= 2.0 + 1.0 = 3.0</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	4.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040266">Check </a><font color="#000000">CAR(M1,G1) = 3.0 &#60;= 1000</font></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	5.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040267"><font color="#000000">PAR(V1,G1) = [10 x area(V1,2 + V1,3) &#45; (100 x diff_area)] &#47; area(G1)</font></a> <br><font color="#000000">= [(10 x .2) &#45; (100 x 0)] &#47; (1) = 2.0</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	6.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040268"><font color="#000000">CAR(V1,G1) = PAR(V1,G1) + CAR(M1,G1) = 2.0 + 3.0 = 5.0 </font></a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	7.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040269">Check </a><font color="#000000">CAR(V1,G1) = 5.0 &#60;= 1000 </font></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	8.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040270"><font color="#000000">PAR(M2,G1) = [area(M2,1 + M2,2) &#45; (100 x area(D1))] &#47; area(G1 + G2)</font></a> <br> <font color="#000000">= [(4 + 5) &#45; (100 x 0.5) &#47; (1 + 2) = &#45;13.67</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	9.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040271"><font color="#000000">CAR(M2,G1) = PAR(M2,G1) + CAR(V1,G1) = &#45;13.67 + 5.0 = &#45;8.67</font></a>, truncate to 0</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	10.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040272">Check </a><font color="#000000">CAR(M2,G1) = 0 &#60;= 1000 </font></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	11.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040273"><font color="#000000">PAR(V2,G1) = [(10 x area(V2,1 + V2,2)) &#45; (100 x area(D1)] &#47; area(G1 + G2)</font></a> <br><font color="#000000">= [(10 x 0.2) &#45; (100 x 0.5)] &#47; (1 + 2) = &#45;16.0</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	12.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040274"><font color="#000000">CAR(V2,G1) = PAR(V2,G1) + CAR(M2,G1) = &#45;16.0 + 0 = &#45;16.0</font></a>, truncate to 0 </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	13.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040275">Check </a><font color="#000000">CAR(V2,G1) = 0 &#60;= 1000 </font></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	14.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040276"><font color="#000000">PAR(M3,G1) = [area(M3,1 + M3,2) &#45; (100 x area(D1))] &#47; area(G1 + G2)</font></a> <br><font color="#000000">= [(6 + 9) &#45; (100 x 0.5)] &#47; (1 + 2) = &#45;11.67</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	15.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040277"> </a><font color="#000000">CAR(M3,G1) = PAR(M3,G1) + CAR(V2,G1) = &#45;11.67 + 0 = &#45;11.67</font>, truncate to 0 </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	16.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040278">Check </a><font color="#000000">CAR(M3,G1) = 0 &#60;= 1000</font> </td>
          </tr>
        </table>
      </div>
      <p><a name="1040279"><font color="#000000"><strong>Example 3</strong></font></a> </p>
      <p><a name="1040280">The following cumulative rule for metal layers includes a diffusion area factor added into the denominator of the ratio:</a></p>
      <blockquote><a name="1040281">Single layer: </a><font color="#000000">metal_area &#47; (gate_area + 2.0 x diff_area) &#60;= 1000</font> </blockquote>
      <blockquote><a name="1040282">Cumulative for the layer: </a><font color="#000000">metal_area &#47; (gate_area + 2.0 x diff_area) &#60;= 5000</font> </blockquote>
      <p><a name="1040283">Every metal layer should include the following information:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040284">ANTENNAPLUSGATEDIFF 2.0 ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040285">ANTENNADIFFAREARATIO 1000 ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040286">ANTENNACUMDIFFAREARATIO 5000 ;</a></font>
      </p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1040287">The via area is ignored in this example. If an independent via model is needed, similar statements should be added to the via layers, which would be computed separately.</a></p>
      <p><a name="1040288">For gate </a><font size="2" face="'Courier New'" color="#000000">G1</font>, the PARs and CARs are computed as follows:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	1.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040289"><font color="#000000">PAR(M1,G1) = area(M1,2) &#47; area(G1) = 2.0 &#47; 1 = 2</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	2.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040290"><font color="#000000">CAR(M1,G1) = PAR(M1,G1) = 2</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	3.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040291">Check </a><font color="#000000">PAR(M1,G1) = 2 &#60;= 1000,<br></font>check <font color="#000000">CAR(M1,G1) = 2 &#60;= 5000</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	4.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040292"><font color="#000000">PAR(M2,G1) = area(M2,1 + M2,2) &#47; [area(G1 + G2) + 2 x area(D1)] <br>= (4 + 5) &#47; [(1 + 2) + 2 x 0.5] = 2.25</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	5.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040293"><font color="#000000">CAR(M2,G1) = CAR(M1,G1) + PAR(M2,G1) = 2 + 2.25 = 4.25</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	6.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040294">Check </a><font color="#000000">PAR(M1,G1) = 2.25 &#60;= 1000, <br></font>check<font color="#000000"> CAR(M1,G1) = 4.25 &#60;= 5000</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	7.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040295"><font color="#000000">PAR(M3,G1) = area(M3,1 + M3,2) &#47; [area(G1 + G2) + 2 x area(D1)] <br> = (6 + 9) &#47; [(1 + 2) + 2 x 0.5] = 3.75 </font></a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	8.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040296"><font color="#000000">CAR(M3,G1) = PAR(M3,G1) + CAR(M2,G1) = 3.75 + 4.25 = 8.0</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	9.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040297">Check </a><font color="#000000">PAR(M1,G1) = 3.75 &#60;= 1000, <br></font>check <font color="#000000">CAR(M1,G1) = 8.0 &#60;= 5000</font> </td>
          </tr>
        </table>
      </div>
      <p><a name="1040299"><font color="#000000"><strong>Example 4</strong></font></a> </p>
      <p><a name="1040300">Assume a cumulative rule that includes a diffusion area reduction value and a routing ratio of 1000. The reduction value is 1.0 if the diff_area is less than 0.1, 0.2 if the diff_area equals 0.1, and decreases linearly to 0.1 if the diff_area equals 1.0. The reduction value remains 0.1 if the diff_area is greater than 1.0. </a></p>
      <p><a name="1040301">Every metal layer should include the following information:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040302">ANTENNAAREADIFFREDUCEPWL ( ( 0.0 1.0 ) ( 0.0999 1.0 ) ( 0.1 0.2 )( 1.0 0.1 )</a></font>
      </p>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040303">( 1000.0 0.1 ) ) ;&#34; ;</a></font>
      </blockquote>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1040304">ANTENNACUMDIFFAREARATIO 1000 ;</a></font>
      </p>
      <p><font color="#000000"><strong>Note: </strong></font><a name="1040305">The via area is ignored in this example. If an independent via model is needed, similar statements should be added to the via layers, which would be computed separately.</a></p>
      <p><a name="1040306">For gate </a><font size="2" face="'Courier New'" color="#000000">G1</font>, the PARs and CARs are computed as follows:</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	1.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040307">Initial</a><font color="#000000"> PAR(M1,G1) = area(M1,2) &#47; area(G1) = 2.0 &#47; 1 = 2</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	2.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040308"><font color="#000000">diode_area = 0, PWL(0) = 1.0,</font></a> therefore initial<font color="#000000"> PAR(M1,G1) </font>is multiplied by 1.0<font color="#000000"> <br></font>to give <font color="#000000">PAR(M1,G1) = 2 x 1 = 2</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	3.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040309"><font color="#000000">CAR(M1,G1) = PAR(M1,G1) = 2</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	4.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040310">Check </a><font color="#000000">CAR(M1,G1) &#60;= 1000</font>, therefore check <font color="#000000">2 &#60;= 1000</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	5.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040311">Initial </a><font color="#000000">PAR(M2,G1) = area(M2,1 + M2,2) &#47; area(G1 + G2) = (4 + 5) &#47; (1 + 2) = 3</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	6.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040312"><font color="#000000">diode_area = 0.5, PWL(0.5) = 0.155,</font></a> therefore initial <font color="#000000">PAR(M2,G1)</font> is multiplied by 1.0 <br>to give <font color="#000000">PAR(M2,G1) = 3 x 0.155 = 0.465</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	7.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040313"><font color="#000000">CAR(M2,G1) = CAR(M1,G1) + PAR(M2,G1) = 2 + 0.465 = 2.465</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	8.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040314">Check </a><font color="#000000">CAR(M2,G1) &#60;= 1000</font>, therefore check <font color="#000000">2.465 &#60;= 1000</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	9.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040315">Initial </a><font color="#000000">PAR(M3,G1) = area(M3,1 + M3,2) &#47; area(G1 + G2) = (6 + 9) &#47; (1 + 2) = 5</font> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	10.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040316"><font color="#000000">diode_area = 0.5, PWL(0.5) = 0.155, therefore initial PAR(M3,G1) is multiplied by 0.155<br> to give PAR(M3,G1) = 5 x 0.1555 = 0.775</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	11.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040317"><font color="#000000">CAR(M3,G1) = PAR(M3,G1) + CAR(M2,G1) = 0.775 + 2.465 = 3.24</font></a> </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	12.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1040318">Check </a><font color="#000000">CAR(M3,G1) &#60;= 1000</font>, therefore check <font color="#000000">3.24 &#60;= 1000</font> </td>
          </tr>
        </table>
      </div>
      <p><a name="1040081">&nbsp;</a></p>
      <h3><a name="1038786">Example Using the Antenna Keywords</a></h3>
      <p><a name="1038787">The following example is a portion of a LEF file that shows the antenna keywords for a process that has cumulative area ratio damage for metal and cut layers. </a></p>
      <p><a name="1038835">Assume you have the following antenna rules for your process:</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	1.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1038788">A maximum cumulative metal to gate area ratio of 1000</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	2.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1038789">If a diode of greater than .1 microns is connected to the metal, the maximum metal ratio is: ratio = diode_area x 2000 </a><font face="symbol" color="#000000">+</font> 5000</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	3.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1038790">A maximum cumulative via to gate area ratio of 20</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="28.8" align="center">
              <div>
                <nobr><font color="#000000"><strong>	4.	</strong></font></nobr>
              </div>
            </td>
            <td><a name="1038791">If a diode of greater than .1 microns is connected to the via, the maximum via ratio is: ratio = diode_area x 200 + 100</a></td>
          </tr>
        </table>
      </div>
      <p><a name="1038792">The corresponding LEF file would include:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038793">LAYER M1</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038794">&nbsp;&nbsp;TYPE ROUTING ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038795">&nbsp;&nbsp;...</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038796">&nbsp;&nbsp;ANTENNACUMAREARATIO </a><font size="2" face="'Courier New'" color="#000000">1000</font> ;</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038797">&nbsp;&nbsp;ANTENNACUMDIFFAREARATIO </a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038798">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PWL ( ( 0 1000 ) ( 0.099 1000 ) ( 0.1 5200 ) ( 100 205000 ) ) ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038799">END M1</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038800">&nbsp;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038801">LAYER VIA1</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038802">&nbsp;&nbsp;TYPE CUT ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038803">&nbsp;&nbsp;...</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038804">&nbsp;&nbsp;ANTENNACUMAREARATIO 20 ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038805">&nbsp;&nbsp;ANTENNACUMDIFFAREARATIO </a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038806">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PWL ( ( 0 20 ) ( 0.099 20 ) ( 0.1 120 ) ( 100 20100 ) ) ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038807">END VIA1</a></font>
      </p>
      <p><a name="1038808">A typical standard cell that has only </a><font color="#000000"><em>M1</em></font> pins and routing inside of it would have:</p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038809">MACRO INV1X</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038810">&nbsp;&nbsp;CLASS CORE ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038811">&nbsp;&nbsp;...</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038812">&nbsp;&nbsp;PIN IN</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038813">&nbsp;&nbsp;&nbsp;&nbsp;DIRECTION INPUT ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038814">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAGATEAREA .5 LAYER M1 ; # connects to 0.5 </a><font face="symbol" color="#000000">μ</font>m&#94;2 poly gate</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038815">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAPARTIALMETALAREA 1.0 LAYER M1 ; # has 1.0 </a><font face="symbol" color="#000000">μ</font>m&#94;2 <font color="#000000"><em>M1</em></font> area. </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038816">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Note that it should not include the </a><font color="#000000"><em>M1</em></font> pin area, just the <font color="#000000"><em>M1</em></font> routing</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# area that is not included in the </a><font size="2" face="'Courier New'" color="#000000">PIN</font> shapes. In many cases, all of the</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039470">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# </a><font color="#000000"><em>M1</em></font> routing is included in the PIN, so this value is <font size="2" face="'Courier New'" color="#000000">0</font>, and not in the</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039472">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# LEF at all.</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038818">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAMAXAREACAR 10.0 LAYER M1 ; # has 10.0 cumulative ratio so far.</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038819">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# This value can include area from internal poly routing if poly routing</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038820">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# damage is accumulated with the metal layers. It does not include</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038821">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# the area of the </a><font color="#000000"><em>M1</em></font> pin area, just the <font color="#000000"><em>M1</em></font> routing area that is not</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038822">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# included in the PIN shapes. If poly damage is not included, and all</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# of the </a><font color="#000000"><em>M1</em></font> routing is included in the PIN, this value will be 0, and </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039474">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# not in the LEF at all.</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038823">&nbsp;&nbsp;&nbsp;&nbsp;...</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038824">&nbsp;&nbsp;END IN</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038825">&nbsp;&nbsp;PIN OUT</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038826">&nbsp;&nbsp;&nbsp;&nbsp;DIRECTION OUTPUT ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038827">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNADIFFAREA .2 LAYER M1 ; # connects to 0.2 </a><font face="symbol" color="#000000">μ</font>m&#94;2 difusion area </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038828">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAPARTIALMETALAREA 1.0 LAYER M1 ; # has 1.0 </a><font face="symbol" color="#000000">μ</font>m&#94;2 <font color="#000000"><em>M1</em></font> area</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038829">&nbsp;&nbsp;&nbsp;&nbsp;# No ANTENNAMAXAREACAR value because no internal poly gate is connected</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038830">&nbsp;&nbsp;&nbsp;&nbsp;...</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038831">&nbsp;&nbsp;END OUT</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038832">END INV1X</a></font>
      </p>
      <h2><a name="1036656">Using Antenna Diode Cells</a></h2>
      <p><a name="1038838">Routers generally use one of two methods to fix process antenna violations:</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036658">Change the routing by breaking the metal layers into smaller pieces</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036659">Insert antenna diode cells to discharge the current</a></td>
          </tr>
        </table>
      </div>
      <h3><a name="1036661">Changing the Routing</a></h3>
      <p><a name="1036662">One method routers use to fix antenna violations is to limit the charge that is collected through the metal nodes exposed to the plasma. To do this, it goes up one layer or pushes the routing down one layer whenever the process antenna ratio exceeds the ratio set in the LEF file. </a></p>
      <p><a name="1036664">The router changes the routing by disconnecting nets with antenna violations and making the connections to higher metal layers instead. It does not make the connections to lower layers. This method works because the top metal layer always completes the connection from the gate to the output drain area of the driver, which is a diode that provides a discharge path.</a></p>
      <h3><a name="1036670">Inserting Antenna Diode Cells</a></h3>
      <p><a name="1038847">The second method routers use to repair antenna violations is to insert antenna diode cells in the design. The electrical charges on the metal that connects to the diodes is then discharged through the diode diffusion layer and substrate. The router inserts the diode cells automatically.</a></p>
      <p><a name="1038848">The following example shows a LEF definition of an antenna diode cell, with the </a><font size="2" face="'Courier New'" color="#000000">CLASS</font> <font size="2" face="'Courier New'" color="#000000">CORE</font> <font size="2" face="'Courier New'" color="#000000">ANTENNACELL</font> and <font size="2" face="'Courier New'" color="#000000">ANTENNADIFFAREA</font> defined:</p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038849">MACRO antenna1</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038850">&nbsp;&nbsp;&nbsp;&nbsp;CLASS CORE ANTENNACELL ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038851">&nbsp;&nbsp;&nbsp;&nbsp;...</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038852">&nbsp;&nbsp;&nbsp;&nbsp;PIN ANT1</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038853">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AntennaDiffArea 1.0 ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038854">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PORT</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038855">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAYER metal1 ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038856">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RECT  0.190 2.380 0.470 2.660 ;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038857">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038858">&nbsp;&nbsp;&nbsp;&nbsp;END ANT1</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038859">END antenna1</a></font>
      </p>
      <h2><a name="1036735">Using DiffUseOnly</a></h2>
      <p><a name="1036736">LEF defines only one value for </a><font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR</font> and one value for <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREAFACTOR</font>, with or without <font size="2" face="'Courier New'" color="#000000">DIFFUSEONLY</font>, per layer. If you specify more than one antenna area or side area factor for a layer, only the last one is used. The <font size="2" face="'Courier New'" color="#000000">AREAFACTOR</font> value lets you scale the value of the metal area. If you use the <font size="2" face="'Courier New'" color="#000000">DIFFUSEONLY</font> keyword, only metal attached to diffusion is scaled. </p>
      <p><a name="1038964">Suppose you have the following LEF file:</a></p>
      <p align="left"><a name="1038950"><img src="images/PAE.10.1.36.png" width="676" height="282" alt=""><br></a></p>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;21&nbsp; </strong></font></strong>
        <strong><a name="1037592">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1036766"><img src="images/PAE.10.1.37.png" width="675" height="149" alt=""><br></a></p>
      <p><a name="1036767">In the figure,</a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036768">The input pin </a><font size="2" face="'Courier New'" color="#000000">H01</font> of <font size="2" face="'Courier New'" color="#000000">GATE_M2_M3</font> connects the metal wires to <font color="#000000"><em>metal1</em></font>, <font color="#000000"><em>metal2</em></font>, and <font color="#000000"><em>metal3</em></font> in sequence. </td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036770">The </a><font size="2" face="'Courier New'" color="#000000">ANTENNAAREAFACTOR 1.2 DIFFUSEONLY</font> and <font size="2" face="'Courier New'" color="#000000">ANTENNASIDEAREAFACTOR 1.4</font> <font size="2" face="'Courier New'" color="#000000">DIFFUSEONLY</font> apply to <font color="#000000"><em>metal3</em></font> routing.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036771">Prior to </a><font color="#000000"><em>metal3</em></font> fabrication, there is no path to the diffusion diode. This causes the default factor of <font size="2" face="'Courier New'" color="#000000">1.0</font> to apply to the <font color="#000000"><em>metal1</em></font> and <font color="#000000"><em>metal2</em></font> segments shown when calculating PARs. </td>
          </tr>
        </table>
      </div>
      <h2><a name="CalculateHierDesign"></a><a name="1036921">Calculations for Hierarchical Designs</a></h2>
      <p><a name="1036922">The following section illustrates computation of antenna ratios for hierarchical designs.</a></p>
      <h3><a name="1036923">LEF and DEF Keywords for Hierarchical Designs</a></h3>
      <p align="left"><a name="1036948">&nbsp;</a></p>
      <table summary="" border="0" cellpadding="4" cellspacing="0" bordercolor="#D3D3D3" width="648">
        <tr>
          <td cellpadding="4" border="0" bordercolor="#D3D3D3" valign="middle" width="127">
            <p>
              <font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><strong><a name="1036926">If the keyword<br>ends with ...</a></strong></font>
            </p>
          </td>
          <td cellpadding="4" border="0" bordercolor="#D3D3D3" valign="middle" width="226">
            <p>
              <font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><strong><a name="1036928">It refers to ...</a></strong></font>
            </p>
          </td>
          <td cellpadding="4" border="0" bordercolor="#D3D3D3" valign="middle" width="295">
            <p>
              <font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><strong><a name="1036930">Examples</a></strong></font>
            </p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1036932"><font size="2" face="'Courier New'" color="#000000">area<br>sideArea</font></a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1036936">Drawn area or side area of the metal wires. Measured in square microns. </a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1036939"><font size="2" face="'Courier New'" color="#000000">ANTENNAPARTIALCUTAREA<br>ANTENNAPARTIALMETALAREA<br>ANTENNAPARTIALMETALSIDEAREA<br>ANTENNAPINDIFFAREA<br>ANTENNAPINGATEAREA<br>ANTENNAPINPARTIALCUTAREA</font></a></p>
          </td>
        </tr>
        <tr>
          <td cellpadding="4" valign="top">
            <p><a name="1036941"><font size="2" face="'Courier New'" color="#000000">CAR</font></a></p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1036943">Relationship the router is calculating</a></p>
            <p><a name="1036945"><font size="2" face="'Courier New'" color="#000000">CAR</font></a> is used in keywords for cumulative antenna ratio.</p>
          </td>
          <td cellpadding="4" valign="top">
            <p><a name="1036947"><font size="2" face="'Courier New'" color="#000000">ANTENNAMAXAREACAR<br>ANTENNAMAXCUTCAR<br>ANTENNAMAXSIDEAREACAR<br>ANTENNAPINMAXAREACAR<br>ANTENNAPINMAXCUTCAR<br>ANTENNAPINMAXSIDEAREACAR</font></a></p>
          </td>
        </tr>
      </table>
      <h3><a name="1036950">Design Example</a></h3>
      <p><a href="#1038228" title="C" name="1036951"><font color="Blue"><u>Figure&nbsp;C&#45;22</u></font></a><a href="#1038228" title="C"></a> represents a macro block. This block can be a custom hard block or part of a bottom&#45;up hierarchical flow. The resulting PAE values will be the same in either case. In the example,</p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036952">Gates </a><font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>, <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>2</sub></font>, <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>3</sub></font>, and <font size="2" face="'Courier New'" color="#000000">G</font><font face="'Courier New'" color="#000000"><sub>4</sub></font> are the same size.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036953">Node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,3</sub></font> is larger than node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>1,2</sub></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036954">Vias (cuts) are all the same size.</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036955">The I&#47;O pin is on </a><font color="#000000"><em>metal3</em></font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036956">The area of diffusion for </a><font size="2" face="'Courier New'" color="#000000">D</font><font size="2" face="'Courier New'" color="#000000"><sub>1</sub></font> is <font size="2" face="'Courier New'" color="#000000"><em>area</em></font><font size="2" face="'Courier New'" color="#000000">(Diff</font><font face="'Courier New'" color="#000000"><sub>1</sub></font>).</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036957">The area of diffusion for </a><font size="2" face="'Courier New'" color="#000000">D</font><font size="2" face="'Courier New'" color="#000000"><sub>2</sub></font> is <font size="2" face="'Courier New'" color="#000000"><em>area</em></font><font size="2" face="'Courier New'" color="#000000">(Diff</font><font face="'Courier New'" color="#000000"><sub>2</sub></font>).</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1036958">The area of the cut layer that connects node </a><font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>3,1</sub></font> and node <font size="2" face="'Courier New'" color="#000000">N</font><font face="'Courier New'" color="#000000"><sub>4,2</sub></font> is <font size="2" face="'Courier New'" color="#000000"><em>area</em></font><font size="2" face="'Courier New'" color="#000000">(N</font><font face="'Courier New'" color="#000000"><sub>C34,1</sub></font><font size="2" face="'Courier New'" color="#000000">)</font>.</td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1038976">Any damage from the poly layer or poly&#45;to&#45;metal1 via is ignored.</a></td>
          </tr>
        </table>
      </div>
      <p>
        <strong><font color="#000000"><strong>Figure C&#45;22&nbsp; </strong></font></strong>
        <strong><a name="1038228">&nbsp;</a></strong>
      </p>
      <p align="left"><a name="1037099"><img src="images/PAE.10.1.38.png" width="675" height="274" alt=""><br></a></p>
      <h4>
        <em></em>
        <em><a name="1037100">Relevant Metal Areas</a></em>
      </h4>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1037102">The relevant metal area for PAE calculations is the partial metal drawn area and side area connected directly to the I&#47;O pin on the inside of the macro on the specified layer. </a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1037103">Only the same metal layer as the I&#47;O pin or above is needed for PAR calculations in hierarchical designs.</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="13.333333333333332">
              <div>&nbsp;</div>
            </td>
            <td width="133.33333333333331">
              <div>
                <nobr>
                  <font size="3"><img src="images/important.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td>
              <font size="3"><a name="1037104">Do not include the drawn area or side area of the I&#47;O pin in the area calculations for the block, because the router includes these areas in the calculations for the upper level. Only the internal routing area that is not part of the I&#47;O pin should be included.</a></font>
            </td>
          </tr>
        </table>
      </div>
      <p><a name="1037105">For the design in the figure above, you must specify values for the following metal areas in the LEF file:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037106">ANTENNAPARTIALMETALAREA </a><font size="2" face="'Courier New'" color="#000000"><em>area</em></font>(N<font face="'Courier New'" color="#000000"><sub>3,2</sub></font>) LAYER Metal3 ;</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037107">ANTENNAPARTIALMETALAREA </a><font size="2" face="'Courier New'" color="#000000"><em>area</em></font>(N<font face="'Courier New'" color="#000000"><sub>4,2</sub></font>) LAYER Metal4 ;</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037108">ANTENNAPARTIALMETALSIDEAREA </a><font size="2" face="'Courier New'" color="#000000"><em>sideArea</em></font>(N<font face="'Courier New'" color="#000000"><sub>3,2</sub></font>) LAYER Metal3 ;</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037109">ANTENNAPARTIALMETALSIDEAREA </a><font size="2" face="'Courier New'" color="#000000"><em>sideArea</em></font>(N<font face="'Courier New'" color="#000000"><sub>4,2</sub></font>) LAYER Metal4 ;</font>
      </p>
      <p><a name="1037110">You do not need to specify an </a><font size="2" face="'Courier New'" color="#000000">ANTENNAPARTIALMETALAREA</font> or <font size="2" face="'Courier New'" color="#000000">ANTENNAPARTIALSIDEMETALAREA</font> for any layer lower than <font color="#000000"><em>metal3</em></font> because the I&#47;O pin is on <font color="#000000"><em>metal3</em></font>; that is, there is no connection outside the block until <font color="#000000"><em>metal3</em></font> is processed.</p>
      <h4>
        <em></em>
        <em><a name="1037113">Relevant Gate, Diffusion, and Cut Areas</a></em>
      </h4>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1037115">The relevant gate and diffusion areas are the gate and diffusion areas that connect directly to the I&#47;O pin on the specified layer or are electrically connected to the pin through lower layers.</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1037117">The relevant partial cut area is above the current pin layer and inside the macro on the specified layer.</a></td>
          </tr>
        </table>
      </div>
      <p><a name="1037118">For the design in the figure above, you must specify values for the following gate, diffusion, and cut areas in the LEF file:</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037119">ANTENNAGATEAREA </a><font size="2" face="'Courier New'" color="#000000"><em>area</em></font>(G<font face="'Courier New'" color="#000000"><sub>2</sub></font> + G<font face="'Courier New'" color="#000000"><sub>3</sub></font> + G<font face="'Courier New'" color="#000000"><sub>4</sub></font>) LAYER Metal3 ;</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037120">ANTENNADIFFAREA </a><font size="2" face="'Courier New'" color="#000000"><em>area</em></font>(Diff<font face="'Courier New'" color="#000000"><sub>1</sub></font>) LAYER Metal3 ;</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037121">ANTENNADIFFAREA </a><font size="2" face="'Courier New'" color="#000000"><em>area</em></font>(Diff<font face="'Courier New'" color="#000000"><sub>1</sub></font> + Diff<font face="'Courier New'" color="#000000"><sub>2</sub></font>) LAYER Metal4 ;</font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037122">ANTENNAPARTIALCUTAREA </a><font size="2" face="'Courier New'" color="#000000"><em>area</em></font>(N<font face="'Courier New'" color="#000000"><sub>34,2</sub></font>) LAYER <font size="2" face="'Courier New'" color="#000000">Via34</font> ;</font>
      </p>
      <h4>
        <em></em>
        <em><a name="1037123">Calculating the CAR</a></em>
      </h4>
      <p><a name="1037124">Use the following keywords to calculate the actual CAR on the I&#47;O pin layer or above. </a></p>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1037125">The relevant maximum CAR value of the drawn and side areas are from the metal layer that is on or below the I&#47;O pin layer.</a></td>
          </tr>
        </table>
      </div>
      <div>
        <table border="0" cellspacing="0" cellpadding="3" summary="">
          <tr valign="baseline">
            <td width="31.999679999999998">
              <div>
                <nobr>
                  <font color="#000000"><img src="images/b_bullet.gif" alt="ParagraphBullet" border="0"></font>
                </nobr>
              </div>
            </td>
            <td><a name="1037126">The relevant maximum CAR value of the cut layer is from the cut layer that is immediately above the I&#47;O pin layer.</a></td>
          </tr>
        </table>
      </div>
      <p><a name="1039224">For the example in </a><a href="#1038228" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;22</u></font></a><a href="#1038228" title="C"> </a>, the keywords and calculations for <font color="#000000"><em>metal3</em></font> and <font color="#000000"><em>via34</em></font> would be:</p>
      <p align="left"><a name="1039447"><img src="images/PAE.10.1.39.png" width="675" height="200" alt=""><br></a></p>
      <h4>
        <em></em>
        <em><a name="1037132">Sample LEF File for a Bottom&#45;Up Hierarchical Design</a></em>
      </h4>
      <p><a name="1038887">For a macro block like that shown in </a><a href="#1038228" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;22</u></font></a><a href="#1038228" title="C"> </a>, you should have the following pin information in your LEF file, ignoring <font size="2" face="'Courier New'" color="#000000">SIDEAREA</font> values:</p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038888">PIN example</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038889">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAGATEAREA 0.3 LAYER METAL3 ; # area of G</a><font color="#000000"><sub>2</sub></font> + G<font color="#000000"><sub>3</sub></font> + G<font color="#000000"><sub>4</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038890">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNADIFFAREA 1.0 LAYER METAL3 ; # area of D</a><font color="#000000"><sub>1</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038891">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAPARTIALMETALAREA 10.0 LAYER METAL3 ; # area of N</a><font color="#000000"><sub>3,2</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038892">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAMAXAREACAR 100.0 LAYER METAL3 ; # max CAR of N</a><font color="#000000"><sub>3,2</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038893">&nbsp;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038894">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAPARTIALCUTAREA 0.1 LAYER VIA34 ; # area of N</a><font color="#000000"><sub>34,2</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038895">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAMAXCUTCAR 5.0 LAYER VIA34 ; # max cut CAR of N</a><font color="#000000"><sub>34,2</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038896">&nbsp;</a></font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038897">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAGATEAREA 0.3 LAYER METAL4 ; # area of G</a><font color="#000000"><sub>2</sub></font> + G<font color="#000000"><sub>3</sub></font> + G<font color="#000000"><sub>4</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038898">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNADIFFAREA 2.0 LAYER METAL4 ; # area of D</a><font color="#000000"><sub>1</sub></font> + D<font color="#000000"><sub>2</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038899">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAPARTIALMETALAREA 12.0 LAYER METAL4 ; # area of N</a><font color="#000000"><sub>4,2</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038900">&nbsp;&nbsp;&nbsp;&nbsp;ANTENNAMAXAREACAR 130.0 LAYER METAL4 ; # max CAR of N</a><font color="#000000"><sub>4,2</sub></font> </font>
      </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1038901">END example</a></font>
      </p>
      <h3><a name="1037161">Top&#45;Down Hierarchical Design Example</a></h3>
      <p><a name="1037162">In a top&#45;down design, the router uses the top&#45;level antenna values to check for process antennas inside the block. If the top level is routed first, the top&#45;level routing CAR and PAR values can be passed down into the DEF for the sub&#45;block. This method can also be used to pass down estimated "budgets" for PAR and CAR values.</a></p>
      <p><a name="1037163">Set the following keywords in the DEF file for the design. In a top&#45;down design you assign a value to the I&#47;O pin that indicates how much routing, CAR, and PAR occurred outside the block already.</a></p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037164">MACRO </a><font size="2" face="'Courier New'" color="#000000"><em>macroName</em></font></font>
      </p>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037165">CLASS BLOCK ;</a></font>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037166">PIN </a><font size="2" face="'Courier New'" color="#000000"><em>pinName</em></font></font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037167">DIRECTION OUTPUT ;</a></font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037168">[ANTENNAPINPARTIALMETALAREA </a><font size="2" face="'Courier New'" color="#000000"><em>value</em></font> [LAYER <font size="2" face="'Courier New'" color="#000000"><em>layerName</em></font>] ;] ...</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037169">[ANTENNAPINPARTIALMETALSIDEAREA&nbsp;</a><font size="2" face="'Courier New'" color="#000000"><em>value </em></font>[LAYER <font size="2" face="'Courier New'" color="#000000"><em>layerName</em></font>] ;] ...</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037170">[ANTENNAPINGATEAREA </a><font size="2" face="'Courier New'" color="#000000"><em>value</em></font> [LAYER <font size="2" face="'Courier New'" color="#000000"><em>layerName</em></font>] ;] ...</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037171">[ANTENNAPINDIFFAREA </a><font size="2" face="'Courier New'" color="#000000"><em>value</em></font> [LAYER <font size="2" face="'Courier New'" color="#000000"><em>layerName</em></font>] ;] ...</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037172">[ANTENNAPINMAXAREACAR </a><font size="2" face="'Courier New'" color="#000000"><em>value</em></font>&nbsp;[LAYER <font size="2" face="'Courier New'" color="#000000"><em>layerName</em></font>] ;] ...</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037173">[ANTENNAPINMAXSIDEAREACAR </a><font size="2" face="'Courier New'" color="#000000"><em>value</em></font> [LAYER <font size="2" face="'Courier New'" color="#000000"><em>layerName</em></font>] ;] ...</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037174">[ANTENNAPINPARTIALCUTAREA </a><font size="2" face="'Courier New'" color="#000000"><em>value</em></font> [LAYER <font size="2" face="'Courier New'" color="#000000"><em>cutlayerName</em></font>] ;] ...</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037175">[ANTENNAPINMAXCUTCAR </a><font size="2" face="'Courier New'" color="#000000"><em>value</em></font> LAYER <font size="2" face="'Courier New'" color="#000000"><em>cutlayerName</em></font>] ;] ...</font></blockquote>
      </blockquote>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037176">END Z</a></font>
      </blockquote>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1037177">END </a><font size="2" face="'Courier New'" color="#000000"><em>macroName</em></font></font>
      </p>
      <h4><a name="1037179">Sample DEF File for a Top&#45;Down Hierarchical Design</a></h4>
      <p><a name="1037180">An example of the DEF keywords for </a><a href="#1038228" title="C"><font color="Blue"><u>Figure&nbsp;C&#45;22</u></font></a><a href="#1038228" title="C"></a> would be: </p>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039365">PINS 100 ;</a></font>
      </p>
      <blockquote>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"></font>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039366">&#45; example + NET example1 </a></font>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039367">+ ANTENNAPINPARTIALMETALAREA (N</a><font face="'Courier New'" color="#000000"><sub>3,1</sub></font>) LAYER Metal3 ;</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039368">+ ANTENNAPINPARTIALMETALSIDEAREA (N</a><font face="'Courier New'" color="#000000"><sub>3,1</sub></font>) LAYER Metal3 ;</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039369">+ ANTENNAPINGATEAREA (G</a><font face="'Courier New'" color="#000000"><sub>1</sub></font>) LAYER Metal3 ;</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039370">&nbsp;# No ANTENNAPINDIFFAREA for this example</a></font></blockquote>
      </blockquote>
      <p>
<blockquote><blockquote>        <font color="#000000"><a name="1039374"><img src="images/PAE.10.1.40.png" width="638" height="109" alt=""><br></a></font></blockquote></blockquote>
      </p>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039408">+ ANTENNAPINPARTIALCUTAREA (N</a><font face="'Courier New'" color="#000000"><sub>34,1</sub></font>) LAYER via34 ;</font></blockquote>
      </blockquote>
      <p>
<blockquote><blockquote>        <font color="#000000"><a name="1039398"><img src="images/PAE.10.1.41.png" width="638" height="60" alt=""><br></a></font></blockquote></blockquote>
      </p>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039385">+ ANTENNAPINGATEAREA (G</a><font face="'Courier New'" color="#000000"><sub>1</sub></font>) LAYER Metal4 ;</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039386">+ ANTENNAPINPARTIALMETALAREA (N</a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font>) LAYER Metal4 ;</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039387">+ ANTENNAPINPARTIALMETALSIDEAREA (N</a><font face="'Courier New'" color="#000000"><sub>4,1</sub></font>) LAYER Metal4 ;</font></blockquote>
      </blockquote>
      <blockquote>
<blockquote>        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039491">...</a></font></blockquote>
      </blockquote>
      <p>
        <font size="2" face="&quot;Courier New&quot;" color="#000000"><a name="1039388">END PINS</a></font>
      </p>
      <p><a name="1034468">&nbsp;</a></p>
    </div>
    <br>
    <a href="#pagetop">Return to top of page</a>
    <hr>
    <hr align="left">
    <div style="text-align: left;">
      <!-- Begin Buttons -->      <table width="650" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td height="20" width="59">
<a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a>

                    </td>
<td height="20" width="73">
<a href="lefdefrefTOC.html"><img src="../support/nav2_toc.gif" alt="Table of Contents" border="0"></a>
</td>
<td height="20" width="46">
<img src="../support/nav2_index_b.gif" border="0">
</td>

          <td>
            <a href="OptimizingLEFTechnology.html"><img src="images/nav2_previous.gif" alt="Previous" border="0"></a>
          </td>
          <td>
            <a href="lefdefrefIX.html"><img src="images/nav_next.gif" alt="Next" border="0"></a>
          </td>
          <td>
            <a>
<a href="lefdefref.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a>

            </a>
          </td>
          <td height="20" width="61">
<img src="../support/nav2_black.gif" border="0"  height="20" width="76">

          </td>
          <td height="20" width="76">
<a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a>

          </td>
          <td height="20" width="43">
<a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a>

          </td>
          <td height="20" width="37">
<a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a>

          </td>
        </tr>
      </table>
      <!-- End Buttons -->
    </div>
    <br>
    <font size="-1" >
For support, see <a href="http://support.cadence.com" target="_blank">Cadence Online Support</a> service.</font>
    <br>
    <br>
    <font size="-1" >
      <i>Copyright &#169; 2018, <a href="http://www.cadence.com">Cadence Design Systems, Inc.</a></i>
    </font>
    <br>
    <font size="-1" >
All rights reserved.</font>
    <br>
    <br>
  </body>
</html>
